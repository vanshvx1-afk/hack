<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<title>NEURAL PREDICTOR v11 â€” GOD LEVEL</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;800;900&family=Rajdhani:wght@300;400;500;600;700&family=Space+Grotesk:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600;700;800&family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
<style>
/* ================================================
   ROOT VARIABLES & RESET
   ================================================ */
:root {
  --gold: #d4a012;
  --gold-light: #f0c040;
  --gold-dark: #a07800;
  --gold-glow: rgba(212, 160, 18, 0.4);
  --purple: #7c3aed;
  --purple-light: #a78bfa;
  --purple-dark: #5b21b6;
  --purple-glow: rgba(124, 58, 237, 0.4);
  --rose: #e11d48;
  --rose-light: #fb7185;
  --rose-dark: #9f1239;
  --rose-glow: rgba(225, 29, 72, 0.4);
  --emerald: #059669;
  --emerald-light: #34d399;
  --emerald-dark: #047857;
  --emerald-glow: rgba(5, 150, 105, 0.4);
  --blue: #2563eb;
  --blue-light: #60a5fa;
  --blue-dark: #1d4ed8;
  --amber: #d97706;
  --amber-light: #fbbf24;
  --sky: #0284c7;
  --sky-light: #38bdf8;
  --bg-primary: #0a0a0f;
  --bg-secondary: #12121a;
  --bg-tertiary: #1a1a28;
  --bg-card: rgba(18, 18, 30, 0.92);
  --bg-card-hover: rgba(25, 25, 40, 0.95);
  --bg-glass: rgba(20, 20, 35, 0.75);
  --bg-glass-light: rgba(30, 30, 50, 0.55);
  --bg-input: rgba(10, 10, 20, 0.6);
  --border-subtle: rgba(255, 255, 255, 0.06);
  --border-medium: rgba(255, 255, 255, 0.1);
  --border-strong: rgba(255, 255, 255, 0.15);
  --text-primary: #f0f0f5;
  --text-secondary: #a0a0b5;
  --text-muted: #606078;
  --text-dim: #40404f;
  --shadow-sm: 0 2px 8px rgba(0,0,0,0.3);
  --shadow-md: 0 8px 24px rgba(0,0,0,0.4);
  --shadow-lg: 0 16px 48px rgba(0,0,0,0.5);
  --shadow-xl: 0 24px 64px rgba(0,0,0,0.6);
  --shadow-gold: 0 8px 32px rgba(212, 160, 18, 0.25);
  --shadow-purple: 0 8px 32px rgba(124, 58, 237, 0.25);
  --radius-sm: 8px;
  --radius-md: 14px;
  --radius-lg: 20px;
  --radius-xl: 28px;
  --radius-full: 999px;
  --transition-fast: 0.15s cubic-bezier(0.4, 0, 0.2, 1);
  --transition-normal: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  --transition-slow: 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  --transition-spring: 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
  --font-display: 'Orbitron', sans-serif;
  --font-heading: 'Space Grotesk', sans-serif;
  --font-body: 'Rajdhani', sans-serif;
  --font-mono: 'JetBrains Mono', monospace;
  --font-ui: 'Inter', sans-serif;
}

*, *::before, *::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  -webkit-tap-highlight-color: transparent;
}

::selection {
  background: var(--gold);
  color: black;
}

::-webkit-scrollbar {
  width: 4px;
}
::-webkit-scrollbar-track {
  background: transparent;
}
::-webkit-scrollbar-thumb {
  background: var(--border-medium);
  border-radius: 99px;
}

html {
  scroll-behavior: smooth;
  -webkit-text-size-adjust: 100%;
}

body {
  background: var(--bg-primary);
  color: var(--text-primary);
  font-family: var(--font-body);
  min-height: 100dvh;
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  user-select: none;
  position: relative;
}

img {
  max-width: 100%;
  display: block;
}

button {
  font-family: inherit;
  cursor: pointer;
  border: none;
  outline: none;
  background: none;
}

input {
  font-family: inherit;
  border: none;
  outline: none;
  background: none;
}

a {
  text-decoration: none;
  color: inherit;
}

/* ================================================
   BACKGROUND EFFECTS SYSTEM
   ================================================ */
#particle-canvas {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 0;
  pointer-events: none;
}

.bg-ambient-orb {
  position: fixed;
  border-radius: 50%;
  filter: blur(80px);
  opacity: 0.12;
  z-index: 0;
  pointer-events: none;
}

.bg-ambient-orb.orb-1 {
  width: 500px;
  height: 500px;
  background: radial-gradient(circle, var(--gold), transparent 70%);
  top: -150px;
  right: -100px;
  animation: orbFloat1 18s ease-in-out infinite;
}

.bg-ambient-orb.orb-2 {
  width: 600px;
  height: 600px;
  background: radial-gradient(circle, var(--purple), transparent 70%);
  bottom: -200px;
  left: -200px;
  animation: orbFloat2 22s ease-in-out infinite;
}

.bg-ambient-orb.orb-3 {
  width: 400px;
  height: 400px;
  background: radial-gradient(circle, var(--rose), transparent 70%);
  top: 40%;
  left: 50%;
  animation: orbFloat3 15s ease-in-out infinite;
}

.bg-ambient-orb.orb-4 {
  width: 350px;
  height: 350px;
  background: radial-gradient(circle, var(--emerald), transparent 70%);
  bottom: 20%;
  right: -100px;
  animation: orbFloat4 20s ease-in-out infinite;
}

@keyframes orbFloat1 {
  0%, 100% { transform: translate(0, 0) scale(1); }
  25% { transform: translate(-40px, 30px) scale(1.1); }
  50% { transform: translate(20px, -20px) scale(0.9); }
  75% { transform: translate(-20px, -40px) scale(1.05); }
}

@keyframes orbFloat2 {
  0%, 100% { transform: translate(0, 0) scale(1); }
  33% { transform: translate(50px, -40px) scale(1.15); }
  66% { transform: translate(-30px, 30px) scale(0.95); }
}

@keyframes orbFloat3 {
  0%, 100% { transform: translate(-50%, 0) scale(1); opacity: 0.08; }
  50% { transform: translate(-50%, -50px) scale(1.2); opacity: 0.15; }
}

@keyframes orbFloat4 {
  0%, 100% { transform: translate(0, 0) scale(1); }
  50% { transform: translate(-40px, -30px) scale(1.1); }
}

.bg-grid-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image:
    linear-gradient(rgba(255,255,255,0.02) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255,255,255,0.02) 1px, transparent 1px);
  background-size: 50px 50px;
  z-index: 1;
  pointer-events: none;
  mask-image: radial-gradient(ellipse at center, black 30%, transparent 80%);
}

.bg-noise {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 1;
  pointer-events: none;
  opacity: 0.015;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  background-size: 128px 128px;
}

.bg-vignette {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: radial-gradient(ellipse at center, transparent 40%, rgba(0,0,0,0.6) 100%);
  z-index: 1;
  pointer-events: none;
}

.bg-scanlines {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0,0,0,0.03) 2px,
    rgba(0,0,0,0.03) 4px
  );
  z-index: 100;
  pointer-events: none;
  opacity: 0.5;
}

.bg-scan-beam {
  position: fixed;
  top: -100%;
  left: 0;
  width: 100%;
  height: 200px;
  background: linear-gradient(
    to bottom,
    transparent,
    rgba(212, 160, 18, 0.015),
    transparent
  );
  z-index: 1;
  pointer-events: none;
  animation: scanBeam 8s linear infinite;
}

@keyframes scanBeam {
  0% { top: -200px; }
  100% { top: 100%; }
}

/* ================================================
   UTILITY CLASSES
   ================================================ */
.flex { display: flex; }
.flex-col { flex-direction: column; }
.flex-row { flex-direction: row; }
.items-center { align-items: center; }
.items-start { align-items: flex-start; }
.items-end { align-items: flex-end; }
.justify-center { justify-content: center; }
.justify-between { justify-content: space-between; }
.justify-end { justify-content: flex-end; }
.gap-4 { gap: 4px; }
.gap-6 { gap: 6px; }
.gap-8 { gap: 8px; }
.gap-10 { gap: 10px; }
.gap-12 { gap: 12px; }
.gap-16 { gap: 16px; }
.gap-20 { gap: 20px; }
.gap-24 { gap: 24px; }
.text-center { text-align: center; }
.text-right { text-align: right; }
.w-full { width: 100%; }
.relative { position: relative; }
.overflow-hidden { overflow: hidden; }
.truncate { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }

/* ================================================
   TYPOGRAPHY
   ================================================ */
.font-display { font-family: var(--font-display); }
.font-heading { font-family: var(--font-heading); }
.font-body { font-family: var(--font-body); }
.font-mono { font-family: var(--font-mono); }
.font-ui { font-family: var(--font-ui); }

.text-xs { font-size: 10px; }
.text-sm { font-size: 12px; }
.text-base { font-size: 14px; }
.text-lg { font-size: 16px; }
.text-xl { font-size: 18px; }
.text-2xl { font-size: 22px; }
.text-3xl { font-size: 28px; }
.text-4xl { font-size: 36px; }
.text-5xl { font-size: 48px; }
.text-6xl { font-size: 64px; }

.fw-300 { font-weight: 300; }
.fw-400 { font-weight: 400; }
.fw-500 { font-weight: 500; }
.fw-600 { font-weight: 600; }
.fw-700 { font-weight: 700; }
.fw-800 { font-weight: 800; }
.fw-900 { font-weight: 900; }

.tracking-wide { letter-spacing: 1px; }
.tracking-wider { letter-spacing: 2px; }
.tracking-widest { letter-spacing: 4px; }
.tracking-ultra { letter-spacing: 6px; }

.uppercase { text-transform: uppercase; }
.capitalize { text-transform: capitalize; }

.color-gold { color: var(--gold); }
.color-gold-light { color: var(--gold-light); }
.color-purple { color: var(--purple); }
.color-purple-light { color: var(--purple-light); }
.color-rose { color: var(--rose); }
.color-rose-light { color: var(--rose-light); }
.color-emerald { color: var(--emerald); }
.color-emerald-light { color: var(--emerald-light); }
.color-blue { color: var(--blue); }
.color-blue-light { color: var(--blue-light); }
.color-amber { color: var(--amber); }
.color-primary { color: var(--text-primary); }
.color-secondary { color: var(--text-secondary); }
.color-muted { color: var(--text-muted); }
.color-dim { color: var(--text-dim); }

.glow-gold { text-shadow: 0 0 20px var(--gold-glow); }
.glow-purple { text-shadow: 0 0 20px var(--purple-glow); }
.glow-rose { text-shadow: 0 0 20px var(--rose-glow); }
.glow-emerald { text-shadow: 0 0 20px var(--emerald-glow); }

/* ================================================
   ANIMATION KEYFRAMES
   ================================================ */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(30px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes fadeInDown {
  from { opacity: 0; transform: translateY(-20px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes fadeInScale {
  from { opacity: 0; transform: scale(0.85); }
  to { opacity: 1; transform: scale(1); }
}

@keyframes slideUp {
  from { transform: translateY(100%); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

@keyframes slideDown {
  from { transform: translateY(-100%); }
  to { transform: translateY(0); }
}

@keyframes slideLeft {
  from { transform: translateX(100%); opacity: 0; }
  to { transform: translateX(0); opacity: 1; }
}

@keyframes slideRight {
  from { transform: translateX(-100%); opacity: 0; }
  to { transform: translateX(0); opacity: 1; }
}

@keyframes scaleIn {
  from { transform: scale(0); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}

@keyframes bounceIn {
  0% { transform: scale(0.3); opacity: 0; }
  50% { transform: scale(1.08); }
  70% { transform: scale(0.95); }
  100% { transform: scale(1); opacity: 1; }
}

@keyframes popIn {
  from { opacity: 0; transform: scale(0.8) translateY(20px); }
  to { opacity: 1; transform: scale(1) translateY(0); }
}

@keyframes shake {
  0%, 100% { transform: translateX(0); }
  10%, 50%, 90% { transform: translateX(-6px); }
  30%, 70% { transform: translateX(6px); }
}

@keyframes shimmer {
  0% { background-position: -200% center; }
  100% { background-position: 200% center; }
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.4; }
}

@keyframes pulseSlow {
  0%, 100% { opacity: 1; transform: scale(1); }
  50% { opacity: 0.7; transform: scale(0.98); }
}

@keyframes rotate {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

@keyframes rotateReverse {
  from { transform: rotate(360deg); }
  to { transform: rotate(0deg); }
}

@keyframes borderGlow {
  0%, 100% { border-color: rgba(212, 160, 18, 0.3); }
  50% { border-color: rgba(212, 160, 18, 0.6); }
}

@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-12px); }
}

@keyframes floatSlow {
  0%, 100% { transform: translateY(0px) rotate(0deg); }
  33% { transform: translateY(-8px) rotate(1deg); }
  66% { transform: translateY(4px) rotate(-1deg); }
}

@keyframes typewriter {
  from { width: 0; }
  to { width: 100%; }
}

@keyframes blink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0; }
}

@keyframes glitch1 {
  0%, 100% { clip-path: inset(0 0 0 0); transform: translate(0); }
  20% { clip-path: inset(20% 0 60% 0); transform: translate(-3px, 2px); }
  40% { clip-path: inset(40% 0 30% 0); transform: translate(3px, -1px); }
  60% { clip-path: inset(60% 0 10% 0); transform: translate(-2px, 3px); }
  80% { clip-path: inset(10% 0 80% 0); transform: translate(2px, -2px); }
}

@keyframes rippleEffect {
  0% { transform: scale(0); opacity: 0.5; }
  100% { transform: scale(4); opacity: 0; }
}

@keyframes progressStripe {
  0% { background-position: 0 0; }
  100% { background-position: 30px 0; }
}

@keyframes borderRotate {
  0% { --angle: 0deg; }
  100% { --angle: 360deg; }
}

@keyframes countUp {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes heartbeat {
  0%, 100% { transform: scale(1); }
  14% { transform: scale(1.15); }
  28% { transform: scale(1); }
  42% { transform: scale(1.15); }
  56% { transform: scale(1); }
}

@keyframes morphBg {
  0%, 100% { border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%; }
  25% { border-radius: 30% 60% 70% 40% / 50% 60% 30% 60%; }
  50% { border-radius: 50% 60% 30% 70% / 40% 70% 60% 30%; }
  75% { border-radius: 60% 30% 60% 40% / 70% 40% 50% 60%; }
}

@keyframes energyPulse {
  0%, 100% { box-shadow: 0 0 5px var(--gold-glow), 0 0 10px var(--gold-glow); }
  50% { box-shadow: 0 0 15px var(--gold-glow), 0 0 30px var(--gold-glow), 0 0 45px var(--gold-glow); }
}

@keyframes dataStream {
  0% { transform: translateY(-100%); }
  100% { transform: translateY(100vh); }
}

@keyframes waveMotion {
  0% { transform: translateX(0) translateZ(0) scaleY(1); }
  50% { transform: translateX(-25%) translateZ(0) scaleY(0.5); }
  100% { transform: translateX(-50%) translateZ(0) scaleY(1); }
}

/* ================================================
   ANIMATION UTILITIES
   ================================================ */
.animate-fadeIn { animation: fadeIn 0.5s ease both; }
.animate-fadeInUp { animation: fadeInUp 0.6s ease both; }
.animate-fadeInDown { animation: fadeInDown 0.5s ease both; }
.animate-fadeInScale { animation: fadeInScale 0.5s ease both; }
.animate-popIn { animation: popIn 0.6s cubic-bezier(0.17, 0.67, 0.32, 1.3) both; }
.animate-bounceIn { animation: bounceIn 0.8s ease both; }
.animate-pulse { animation: pulse 2s ease-in-out infinite; }
.animate-pulseSlow { animation: pulseSlow 3s ease-in-out infinite; }
.animate-float { animation: float 4s ease-in-out infinite; }
.animate-floatSlow { animation: floatSlow 6s ease-in-out infinite; }
.animate-rotate { animation: rotate 20s linear infinite; }
.animate-shake { animation: shake 0.5s ease; }
.animate-heartbeat { animation: heartbeat 1.5s ease-in-out infinite; }

.delay-100 { animation-delay: 0.1s; }
.delay-200 { animation-delay: 0.2s; }
.delay-300 { animation-delay: 0.3s; }
.delay-400 { animation-delay: 0.4s; }
.delay-500 { animation-delay: 0.5s; }
.delay-600 { animation-delay: 0.6s; }
.delay-700 { animation-delay: 0.7s; }
.delay-800 { animation-delay: 0.8s; }
.delay-1000 { animation-delay: 1s; }
.delay-1200 { animation-delay: 1.2s; }
.delay-1500 { animation-delay: 1.5s; }

/* ================================================
   SPLASH SCREEN
   ================================================ */
#splash-screen {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100dvh;
  background: var(--bg-primary);
  z-index: 10000;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 32px;
  transition: opacity 0.8s ease, transform 0.8s ease;
}

#splash-screen.hide {
  opacity: 0;
  transform: scale(1.1);
  pointer-events: none;
}

.splash-logo-container {
  position: relative;
  width: 140px;
  height: 140px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.splash-ring {
  position: absolute;
  border-radius: 50%;
  border: 2px solid transparent;
}

.splash-ring-1 {
  width: 100%;
  height: 100%;
  border-top-color: var(--gold);
  border-right-color: var(--gold);
  animation: rotate 2s linear infinite;
  filter: drop-shadow(0 0 6px var(--gold-glow));
}

.splash-ring-2 {
  width: 82%;
  height: 82%;
  border-bottom-color: var(--purple);
  border-left-color: var(--purple);
  animation: rotateReverse 1.5s linear infinite;
  filter: drop-shadow(0 0 6px var(--purple-glow));
}

.splash-ring-3 {
  width: 64%;
  height: 64%;
  border-top-color: var(--rose);
  animation: rotate 1s linear infinite;
  filter: drop-shadow(0 0 6px var(--rose-glow));
}

.splash-icon {
  font-size: 36px;
  color: var(--gold);
  z-index: 2;
  animation: pulseSlow 2s ease-in-out infinite;
  filter: drop-shadow(0 0 12px var(--gold-glow));
}

.splash-title {
  font-family: var(--font-display);
  font-size: 22px;
  font-weight: 900;
  letter-spacing: 6px;
  color: var(--gold);
  text-shadow: 0 0 30px var(--gold-glow);
  text-align: center;
  animation: fadeInUp 1s ease 0.3s both;
}

.splash-subtitle {
  font-family: var(--font-mono);
  font-size: 10px;
  color: var(--text-muted);
  letter-spacing: 3px;
  text-align: center;
  animation: fadeIn 1s ease 0.6s both;
}

.splash-progress-container {
  width: 200px;
  animation: fadeIn 1s ease 0.8s both;
}

.splash-progress-track {
  width: 100%;
  height: 3px;
  background: var(--bg-tertiary);
  border-radius: 99px;
  overflow: hidden;
}

.splash-progress-fill {
  height: 100%;
  width: 0%;
  background: linear-gradient(90deg, var(--gold), var(--purple));
  border-radius: 99px;
  transition: width 0.1s linear;
  box-shadow: 0 0 8px var(--gold-glow);
}

.splash-status {
  font-family: var(--font-mono);
  font-size: 9px;
  color: var(--text-dim);
  letter-spacing: 2px;
  margin-top: 8px;
  text-align: center;
  min-height: 14px;
}

.splash-version {
  font-family: var(--font-mono);
  font-size: 9px;
  color: var(--text-dim);
  letter-spacing: 2px;
  position: absolute;
  bottom: 32px;
}

/* ================================================
   AUTH SCREEN
   ================================================ */
#auth-screen {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100dvh;
  background: var(--bg-primary);
  z-index: 9000;
  display: none;
  align-items: center;
  justify-content: center;
  padding: 24px;
}

#auth-screen.active {
  display: flex;
}

#auth-screen.hide-auth {
  animation: authExit 1s ease-in forwards;
}

@keyframes authExit {
  0% { opacity: 1; filter: blur(0px) brightness(1); transform: scale(1); }
  30% { filter: brightness(2) contrast(1.5); }
  100% { opacity: 0; filter: blur(30px) brightness(3); transform: scale(1.15); pointer-events: none; }
}

.auth-container {
  width: 100%;
  max-width: 400px;
  animation: fadeInUp 0.8s ease both;
}

.auth-card {
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  backdrop-filter: blur(30px);
  border-radius: var(--radius-xl);
  padding: 40px 28px;
  position: relative;
  overflow: hidden;
}

.auth-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(90deg, transparent, var(--gold), transparent);
  opacity: 0.6;
}

.auth-card::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(90deg, transparent, var(--purple), transparent);
  opacity: 0.3;
}

.auth-icon-wrap {
  width: 90px;
  height: 90px;
  margin: 0 auto 24px;
  border-radius: 50%;
  background: linear-gradient(135deg, rgba(212, 160, 18, 0.1), rgba(124, 58, 237, 0.1));
  border: 2px solid var(--border-subtle);
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  animation: float 4s ease-in-out infinite;
}

.auth-icon-wrap::before {
  content: '';
  position: absolute;
  inset: -4px;
  border-radius: 50%;
  border: 1px solid transparent;
  border-top-color: var(--gold);
  animation: rotate 4s linear infinite;
}

.auth-icon-wrap i {
  font-size: 32px;
  background: linear-gradient(135deg, var(--gold), var(--purple));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.auth-title {
  font-family: var(--font-display);
  font-size: 20px;
  font-weight: 800;
  letter-spacing: 4px;
  text-align: center;
  color: var(--text-primary);
  margin-bottom: 6px;
}

.auth-desc {
  font-family: var(--font-ui);
  font-size: 12px;
  color: var(--text-muted);
  text-align: center;
  margin-bottom: 32px;
  letter-spacing: 0.5px;
}

.auth-input-group {
  position: relative;
  margin-bottom: 20px;
}

.auth-input-group label {
  display: block;
  font-family: var(--font-ui);
  font-size: 11px;
  font-weight: 600;
  color: var(--text-muted);
  letter-spacing: 1.5px;
  text-transform: uppercase;
  margin-bottom: 8px;
}

.auth-input-wrap {
  position: relative;
  display: flex;
  align-items: center;
}

.auth-input-wrap i.input-icon {
  position: absolute;
  left: 16px;
  color: var(--text-dim);
  font-size: 14px;
  transition: color var(--transition-normal);
  z-index: 2;
}

.auth-input {
  width: 100%;
  padding: 16px 48px 16px 44px;
  background: var(--bg-input);
  border: 2px solid var(--border-subtle);
  border-radius: var(--radius-md);
  color: var(--text-primary);
  font-family: var(--font-mono);
  font-size: 15px;
  font-weight: 600;
  letter-spacing: 3px;
  transition: all var(--transition-normal);
}

.auth-input::placeholder {
  color: var(--text-dim);
  letter-spacing: 1px;
  font-size: 12px;
}

.auth-input:focus {
  border-color: var(--gold);
  box-shadow: 0 0 0 4px rgba(212, 160, 18, 0.1), 0 0 20px rgba(212, 160, 18, 0.05);
}

.auth-input:focus ~ i.input-icon,
.auth-input:focus + i.input-icon {
  color: var(--gold);
}

.auth-input-wrap .toggle-pass {
  position: absolute;
  right: 16px;
  color: var(--text-dim);
  font-size: 14px;
  cursor: pointer;
  transition: color var(--transition-fast);
  z-index: 2;
  padding: 4px;
}

.auth-input-wrap .toggle-pass:hover {
  color: var(--text-secondary);
}

.auth-error {
  font-family: var(--font-ui);
  font-size: 11px;
  color: var(--rose);
  margin-top: 8px;
  display: none;
  align-items: center;
  gap: 6px;
}

.auth-error.show {
  display: flex;
  animation: fadeInUp 0.3s ease;
}

.auth-btn {
  width: 100%;
  padding: 16px;
  background: linear-gradient(135deg, var(--gold), var(--gold-dark));
  color: #000;
  font-family: var(--font-display);
  font-size: 13px;
  font-weight: 800;
  letter-spacing: 3px;
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: all var(--transition-normal);
  box-shadow: var(--shadow-gold);
  position: relative;
  overflow: hidden;
  margin-top: 8px;
  text-transform: uppercase;
}

.auth-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 12px 40px rgba(212, 160, 18, 0.35);
}

.auth-btn:active {
  transform: translateY(0) scale(0.98);
}

.auth-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.25), transparent);
  transition: left 0.6s ease;
}

.auth-btn:hover::before {
  left: 100%;
}

.auth-footer {
  margin-top: 24px;
  text-align: center;
}

.auth-footer-text {
  font-family: var(--font-mono);
  font-size: 9px;
  color: var(--text-dim);
  letter-spacing: 1px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
}

.auth-footer-text i {
  font-size: 8px;
  color: var(--emerald);
  animation: pulse 2s ease-in-out infinite;
}

/* ================================================
   MAIN APP WRAPPER
   ================================================ */
#main-app {
  position: relative;
  z-index: 10;
  max-width: 460px;
  margin: 0 auto;
  padding: 16px 16px 100px;
  min-height: 100dvh;
  display: none;
  flex-direction: column;
  gap: 16px;
}

#main-app.active {
  display: flex;
}

/* ================================================
   CARDS BASE SYSTEM
   ================================================ */
.card {
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  backdrop-filter: blur(24px);
  border-radius: var(--radius-xl);
  padding: 24px;
  position: relative;
  overflow: hidden;
  transition: all var(--transition-normal);
}

.card::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 1px;
  background: linear-gradient(90deg, transparent, var(--gold), transparent);
  animation: scan 5s linear infinite;
  opacity: 0.5;
}

@keyframes scan {
  0% { left: -100%; }
  100% { left: 100%; }
}

.card-glow {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  opacity: 0;
  transition: opacity var(--transition-normal);
  pointer-events: none;
  border-radius: inherit;
}

.card:hover .card-glow {
  opacity: 1;
}

.card-accent-top {
  position: absolute;
  top: 0;
  left: 24px;
  right: 24px;
  height: 1px;
  background: linear-gradient(90deg, transparent, var(--border-medium), transparent);
}

/* Corner decorations */
.card-corner {
  position: absolute;
  width: 16px;
  height: 16px;
  opacity: 0.2;
}

.card-corner.tl {
  top: 8px; left: 8px;
  border-top: 1px solid var(--gold);
  border-left: 1px solid var(--gold);
}

.card-corner.tr {
  top: 8px; right: 8px;
  border-top: 1px solid var(--gold);
  border-right: 1px solid var(--gold);
}

.card-corner.bl {
  bottom: 8px; left: 8px;
  border-bottom: 1px solid var(--gold);
  border-left: 1px solid var(--gold);
}

.card-corner.br {
  bottom: 8px; right: 8px;
  border-bottom: 1px solid var(--gold);
  border-right: 1px solid var(--gold);
}

/* ================================================
   TOP HEADER BAR
   ================================================ */
.header-card {
  padding: 20px 24px;
}

.header-top {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
}

.badge {
  font-family: var(--font-mono);
  font-size: 9px;
  font-weight: 700;
  padding: 6px 12px;
  border-radius: var(--radius-full);
  letter-spacing: 1px;
  display: flex;
  align-items: center;
  gap: 6px;
}

.badge-online {
  background: rgba(5, 150, 105, 0.1);
  color: var(--emerald);
  border: 1px solid rgba(5, 150, 105, 0.3);
}

.badge-online i {
  font-size: 6px;
  animation: pulse 2s ease-in-out infinite;
}

.power-btn {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-dim);
  background: rgba(225, 29, 72, 0.05);
  border: 1px solid rgba(225, 29, 72, 0.15);
  transition: all var(--transition-normal);
  font-size: 13px;
}

.power-btn:hover {
  color: var(--rose);
  background: rgba(225, 29, 72, 0.12);
  border-color: rgba(225, 29, 72, 0.4);
  box-shadow: 0 0 16px rgba(225, 29, 72, 0.15);
}

.header-brand {
  text-align: center;
}

.header-logo-text {
  font-family: var(--font-display);
  font-size: 24px;
  font-weight: 900;
  letter-spacing: 5px;
  background: linear-gradient(135deg, var(--gold-light), var(--gold), var(--gold-dark));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  filter: drop-shadow(0 0 16px var(--gold-glow));
}

.header-version {
  font-family: var(--font-mono);
  font-size: 9px;
  color: var(--text-dim);
  letter-spacing: 3px;
  margin-top: 4px;
}

.header-divider {
  width: 60px;
  height: 1px;
  background: linear-gradient(90deg, transparent, var(--gold), transparent);
  margin: 12px auto 0;
  opacity: 0.4;
}

/* Header stats bar */
.header-stats {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 8px;
  margin-top: 18px;
}

.header-stat {
  text-align: center;
  padding: 10px 4px;
  background: rgba(0,0,0,0.2);
  border-radius: var(--radius-md);
  border: 1px solid var(--border-subtle);
  transition: all var(--transition-normal);
}

.header-stat:hover {
  border-color: var(--border-medium);
  background: rgba(0,0,0,0.35);
}

.header-stat-value {
  font-family: var(--font-display);
  font-size: 16px;
  font-weight: 800;
}

.header-stat-label {
  font-family: var(--font-ui);
  font-size: 9px;
  color: var(--text-dim);
  letter-spacing: 1px;
  text-transform: uppercase;
  margin-top: 2px;
}

/* ================================================
   LIVE INFO BAR
   ================================================ */
.live-info-bar {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 20px;
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-lg);
  backdrop-filter: blur(20px);
  overflow: hidden;
  position: relative;
}

.live-dot {
  width: 8px;
  height: 8px;
  min-width: 8px;
  border-radius: 50%;
  background: var(--emerald);
  box-shadow: 0 0 8px var(--emerald-glow);
  animation: pulse 1.5s ease-in-out infinite;
}

.live-marquee-wrap {
  flex: 1;
  overflow: hidden;
  mask-image: linear-gradient(90deg, transparent, black 10%, black 90%, transparent);
}

.live-marquee {
  display: flex;
  gap: 40px;
  animation: marquee 30s linear infinite;
  white-space: nowrap;
}

@keyframes marquee {
  from { transform: translateX(0); }
  to { transform: translateX(-50%); }
}

.live-marquee span {
  font-family: var(--font-mono);
  font-size: 10px;
  color: var(--text-muted);
  letter-spacing: 1px;
  display: flex;
  align-items: center;
  gap: 6px;
}

.live-marquee span i {
  font-size: 8px;
  color: var(--gold);
}

/* ================================================
   QUICK STATS GRID
   ================================================ */
.quick-stats-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 8px;
}

.quick-stat-item {
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-lg);
  padding: 14px 8px;
  text-align: center;
  backdrop-filter: blur(20px);
  transition: all var(--transition-normal);
  position: relative;
  overflow: hidden;
}

.quick-stat-item::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 20%;
  right: 20%;
  height: 2px;
  border-radius: 99px;
  transition: all var(--transition-normal);
  opacity: 0;
}

.quick-stat-item:nth-child(1)::after { background: var(--gold); }
.quick-stat-item:nth-child(2)::after { background: var(--emerald); }
.quick-stat-item:nth-child(3)::after { background: var(--purple); }
.quick-stat-item:nth-child(4)::after { background: var(--rose); }

.quick-stat-item:hover::after { opacity: 1; }
.quick-stat-item:hover { border-color: var(--border-medium); transform: translateY(-2px); }

.quick-stat-icon {
  font-size: 16px;
  margin-bottom: 6px;
}

.quick-stat-num {
  font-family: var(--font-display);
  font-size: 15px;
  font-weight: 800;
  color: var(--text-primary);
}

.quick-stat-lbl {
  font-family: var(--font-ui);
  font-size: 8px;
  color: var(--text-dim);
  letter-spacing: 1px;
  text-transform: uppercase;
  margin-top: 2px;
}

/* ================================================
   GAME SELECTOR
   ================================================ */
#selector-view {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.section-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 4px;
}

.section-title {
  font-family: var(--font-display);
  font-size: 11px;
  font-weight: 700;
  letter-spacing: 3px;
  color: var(--text-secondary);
  display: flex;
  align-items: center;
  gap: 8px;
}

.section-title::before {
  content: '';
  display: inline-block;
  width: 3px;
  height: 14px;
  background: var(--gold);
  border-radius: 99px;
}

.section-badge {
  font-family: var(--font-mono);
  font-size: 8px;
  padding: 4px 10px;
  border-radius: var(--radius-full);
  background: rgba(212, 160, 18, 0.08);
  color: var(--gold);
  border: 1px solid rgba(212, 160, 18, 0.2);
  letter-spacing: 1px;
}

.game-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}

.game-card {
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-xl);
  padding: 20px 16px;
  cursor: pointer;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 12px;
  transition: all var(--transition-normal);
  position: relative;
  overflow: hidden;
  backdrop-filter: blur(20px);
}

.game-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 2px;
  opacity: 0;
  transition: opacity var(--transition-normal);
}

.game-card.active-game::before {
  opacity: 1;
}

.game-card.jalwa-card::before {
  background: linear-gradient(90deg, transparent, var(--gold), transparent);
}

.game-card.okwin-card::before {
  background: linear-gradient(90deg, transparent, var(--blue-light), transparent);
}

.game-card:not(.locked):hover {
  transform: translateY(-6px);
  border-color: var(--border-strong);
  box-shadow: var(--shadow-lg);
}

.game-card.jalwa-card:not(.locked):hover {
  box-shadow: 0 16px 48px rgba(212, 160, 18, 0.15);
  border-color: rgba(212, 160, 18, 0.3);
}

.game-card.okwin-card:not(.locked):hover {
  box-shadow: 0 16px 48px rgba(37, 99, 235, 0.15);
  border-color: rgba(37, 99, 235, 0.3);
}

.game-card:not(.locked):active {
  transform: translateY(-2px) scale(0.97);
}

.game-card-badge {
  position: absolute;
  top: 10px;
  right: 10px;
  font-family: var(--font-mono);
  font-size: 7px;
  font-weight: 800;
  padding: 3px 8px;
  border-radius: var(--radius-full);
  letter-spacing: 1px;
  text-transform: uppercase;
}

.badge-hot {
  background: linear-gradient(135deg, var(--rose), var(--amber));
  color: white;
  box-shadow: 0 2px 12px rgba(225, 29, 72, 0.3);
  animation: pulse 2s ease-in-out infinite;
}

.badge-live {
  background: rgba(5, 150, 105, 0.15);
  color: var(--emerald);
  border: 1px solid rgba(5, 150, 105, 0.3);
}

.badge-soon {
  background: rgba(255, 255, 255, 0.06);
  color: var(--text-dim);
  border: 1px solid var(--border-subtle);
}

.game-logo-wrap {
  width: 64px;
  height: 64px;
  border-radius: var(--radius-lg);
  overflow: hidden;
  border: 2px solid var(--border-subtle);
  position: relative;
  transition: all var(--transition-normal);
}

.game-card:not(.locked):hover .game-logo-wrap {
  border-color: var(--border-strong);
  transform: scale(1.05);
}

.game-logo-wrap img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.game-logo-placeholder {
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--bg-glass-light);
  font-size: 24px;
}

.game-card-name {
  font-family: var(--font-display);
  font-size: 13px;
  font-weight: 800;
  letter-spacing: 2px;
  color: var(--text-primary);
}

.game-card-desc {
  font-family: var(--font-ui);
  font-size: 10px;
  color: var(--text-muted);
  letter-spacing: 0.5px;
}

.game-card-stats {
  display: flex;
  gap: 12px;
  margin-top: 4px;
}

.game-card-stat {
  font-family: var(--font-mono);
  font-size: 9px;
  color: var(--text-dim);
  display: flex;
  align-items: center;
  gap: 4px;
}

.game-card-stat i {
  font-size: 7px;
}

/* Locked game card */
.game-card.locked {
  cursor: not-allowed;
  opacity: 0.45;
}

.game-card.locked:hover {
  transform: none;
  box-shadow: none;
}

.game-lock-overlay {
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,0.5);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 6px;
  border-radius: inherit;
  z-index: 5;
  backdrop-filter: blur(3px);
}

.game-lock-overlay i {
  font-size: 20px;
  color: var(--text-dim);
}

.game-lock-overlay span {
  font-family: var(--font-mono);
  font-size: 8px;
  color: var(--text-dim);
  letter-spacing: 2px;
}

/* ================================================
   FEATURES SHOWCASE
   ================================================ */
.features-scroll {
  display: flex;
  gap: 10px;
  overflow-x: auto;
  padding: 4px 0 8px;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
}

.features-scroll::-webkit-scrollbar { display: none; }

.feature-chip {
  flex-shrink: 0;
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 16px;
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-full);
  scroll-snap-align: start;
  transition: all var(--transition-normal);
}

.feature-chip:hover {
  border-color: var(--border-medium);
  background: var(--bg-card-hover);
}

.feature-chip-icon {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 11px;
}

.feature-chip-text {
  font-family: var(--font-ui);
  font-size: 11px;
  font-weight: 600;
  color: var(--text-secondary);
  white-space: nowrap;
}

/* ================================================
   TIP OF THE DAY
   ================================================ */
.tip-card {
  background: linear-gradient(135deg, rgba(212, 160, 18, 0.06), rgba(124, 58, 237, 0.04));
  border: 1px solid rgba(212, 160, 18, 0.12);
  border-radius: var(--radius-xl);
  padding: 18px 20px;
  display: flex;
  align-items: flex-start;
  gap: 14px;
  position: relative;
  overflow: hidden;
}

.tip-card::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 3px;
  background: linear-gradient(to bottom, var(--gold), var(--purple));
  border-radius: 0 99px 99px 0;
}

.tip-icon {
  width: 36px;
  height: 36px;
  min-width: 36px;
  border-radius: var(--radius-sm);
  background: rgba(212, 160, 18, 0.1);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--gold);
  font-size: 14px;
}

.tip-content {
  flex: 1;
}

.tip-label {
  font-family: var(--font-mono);
  font-size: 8px;
  color: var(--gold);
  letter-spacing: 2px;
  text-transform: uppercase;
  margin-bottom: 4px;
}

.tip-text {
  font-family: var(--font-ui);
  font-size: 12px;
  color: var(--text-secondary);
  line-height: 1.5;
}

/* ================================================
   PREDICTOR VIEW
   ================================================ */
#predictor-view {
  display: none;
  flex-direction: column;
  gap: 16px;
}

#predictor-view.active {
  display: flex;
}

.back-button {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 0;
  color: var(--text-muted);
  font-family: var(--font-ui);
  font-size: 12px;
  font-weight: 600;
  letter-spacing: 1px;
  cursor: pointer;
  transition: all var(--transition-fast);
  width: fit-content;
}

.back-button:hover {
  color: var(--gold);
}

.back-button i {
  font-size: 10px;
  transition: transform var(--transition-fast);
}

.back-button:hover i {
  transform: translateX(-3px);
}

/* Engine Header */
.engine-header {
  text-align: center;
  padding: 28px 20px;
}

.engine-logo-wrap {
  width: 72px;
  height: 72px;
  margin: 0 auto 16px;
  border-radius: var(--radius-lg);
  overflow: hidden;
  border: 2px solid var(--border-medium);
  position: relative;
  animation: floatSlow 5s ease-in-out infinite;
}

.engine-logo-wrap::after {
  content: '';
  position: absolute;
  inset: -3px;
  border-radius: inherit;
  border: 1px solid transparent;
  border-top-color: var(--gold);
  animation: rotate 6s linear infinite;
}

.engine-logo-wrap img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.engine-name {
  font-family: var(--font-display);
  font-size: 24px;
  font-weight: 900;
  letter-spacing: 6px;
  background: linear-gradient(135deg, var(--gold-light), var(--gold));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  filter: drop-shadow(0 0 12px var(--gold-glow));
  margin-bottom: 4px;
}

.engine-subtitle {
  font-family: var(--font-mono);
  font-size: 9px;
  color: var(--text-dim);
  letter-spacing: 3px;
}

.engine-status-bar {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 16px;
  margin-top: 14px;
}

.engine-status-item {
  display: flex;
  align-items: center;
  gap: 5px;
  font-family: var(--font-mono);
  font-size: 9px;
  color: var(--text-muted);
}

.engine-status-item .dot {
  width: 5px;
  height: 5px;
  border-radius: 50%;
}

.dot-green { background: var(--emerald); box-shadow: 0 0 6px var(--emerald-glow); animation: pulse 2s ease infinite; }
.dot-gold { background: var(--gold); box-shadow: 0 0 6px var(--gold-glow); }
.dot-blue { background: var(--blue); box-shadow: 0 0 6px rgba(37,99,235,0.4); }

/* Period Input Area */
.input-section {
  padding: 24px;
}

.input-label {
  font-family: var(--font-ui);
  font-size: 11px;
  font-weight: 600;
  color: var(--text-muted);
  letter-spacing: 1.5px;
  text-transform: uppercase;
  margin-bottom: 10px;
  display: flex;
  align-items: center;
  gap: 6px;
}

.input-label i {
  font-size: 10px;
  color: var(--gold);
}

.period-input-wrap {
  position: relative;
  margin-bottom: 20px;
}

.period-input {
  width: 100%;
  padding: 20px;
  background: var(--bg-input);
  border: 2px solid var(--border-subtle);
  border-radius: var(--radius-lg);
  color: var(--text-primary);
  font-family: var(--font-mono);
  font-size: 22px;
  font-weight: 700;
  text-align: center;
  letter-spacing: 4px;
  transition: all var(--transition-normal);
}

.period-input::placeholder {
  font-size: 13px;
  color: var(--text-dim);
  letter-spacing: 1px;
}

.period-input:focus {
  border-color: var(--gold);
  box-shadow: 0 0 0 4px rgba(212, 160, 18, 0.08), 0 8px 32px rgba(0,0,0,0.3);
}

.period-input.error {
  border-color: var(--rose);
  animation: shake 0.5s ease;
  box-shadow: 0 0 0 4px rgba(225, 29, 72, 0.08);
}

.period-info {
  display: flex;
  justify-content: space-between;
  margin-top: 8px;
  padding: 0 4px;
}

.period-info span {
  font-family: var(--font-mono);
  font-size: 9px;
  color: var(--text-dim);
  letter-spacing: 0.5px;
}

/* Run Button */
.run-btn {
  width: 100%;
  padding: 18px;
  border-radius: var(--radius-lg);
  font-family: var(--font-display);
  font-size: 13px;
  font-weight: 800;
  letter-spacing: 3px;
  text-transform: uppercase;
  cursor: pointer;
  position: relative;
  overflow: hidden;
  transition: all var(--transition-normal);
  background: linear-gradient(135deg, var(--gold), var(--gold-dark));
  color: #000;
  box-shadow: var(--shadow-gold);
}

.run-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 14px 44px rgba(212, 160, 18, 0.35);
}

.run-btn:active {
  transform: translateY(0) scale(0.97);
}

.run-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
  transition: left 0.5s ease;
}

.run-btn:hover::before {
  left: 100%;
}

.run-btn.new-prediction {
  background: linear-gradient(135deg, var(--purple), var(--purple-dark));
  box-shadow: var(--shadow-purple);
  color: white;
  animation: energyPulse 2s ease-in-out infinite;
}

.run-btn.new-prediction:hover {
  box-shadow: 0 14px 44px rgba(124, 58, 237, 0.35);
}

.run-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none !important;
}

/* Ripple effect */
.ripple-container {
  position: absolute;
  inset: 0;
  overflow: hidden;
  border-radius: inherit;
  pointer-events: none;
}

.ripple {
  position: absolute;
  border-radius: 50%;
  background: rgba(255,255,255,0.3);
  width: 100px;
  height: 100px;
  margin-top: -50px;
  margin-left: -50px;
  animation: rippleEffect 0.6s ease-out;
  pointer-events: none;
}

/* ================================================
   ANALYSIS PROGRESS
   ================================================ */
.analysis-section {
  display: none;
  padding: 24px;
}

.analysis-section.active {
  display: block;
  animation: fadeInUp 0.5s ease;
}

.analysis-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 16px;
}

.analysis-title {
  font-family: var(--font-display);
  font-size: 11px;
  font-weight: 700;
  color: var(--gold);
  letter-spacing: 2px;
}

.analysis-percent {
  font-family: var(--font-mono);
  font-size: 13px;
  font-weight: 800;
  color: var(--gold);
}

.analysis-progress-bar {
  width: 100%;
  height: 4px;
  background: var(--bg-tertiary);
  border-radius: var(--radius-full);
  overflow: hidden;
  margin-bottom: 20px;
}

.analysis-progress-fill {
  height: 100%;
  width: 0%;
  background: linear-gradient(90deg, var(--gold), var(--purple), var(--gold));
  background-size: 200% 100%;
  animation: shimmer 2s linear infinite;
  border-radius: var(--radius-full);
  transition: width 0.15s linear;
  box-shadow: 0 0 12px var(--gold-glow);
}

.analysis-steps {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.analysis-step {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 10px 14px;
  background: rgba(0,0,0,0.2);
  border-radius: var(--radius-md);
  border: 1px solid var(--border-subtle);
  transition: all var(--transition-normal);
  opacity: 0.3;
}

.analysis-step.active-step {
  opacity: 1;
  border-color: var(--border-medium);
  background: rgba(212, 160, 18, 0.03);
}

.analysis-step.done-step {
  opacity: 0.6;
}

.analysis-step.done-step .step-indicator {
  background: var(--emerald);
  border-color: var(--emerald);
}

.analysis-step.done-step .step-indicator i {
  display: block;
}

.step-indicator {
  width: 24px;
  height: 24px;
  min-width: 24px;
  border-radius: 50%;
  border: 2px solid var(--border-medium);
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all var(--transition-normal);
  position: relative;
}

.step-indicator i {
  font-size: 9px;
  color: white;
  display: none;
}

.active-step .step-indicator {
  border-color: var(--gold);
  background: rgba(212, 160, 18, 0.15);
}

.active-step .step-indicator::after {
  content: '';
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: var(--gold);
  animation: pulse 1s ease-in-out infinite;
}

.step-text {
  font-family: var(--font-mono);
  font-size: 10px;
  color: var(--text-muted);
  letter-spacing: 1px;
  text-transform: uppercase;
}

.active-step .step-text {
  color: var(--gold);
}

.done-step .step-text {
  color: var(--emerald);
}

/* Neural Activity */
.neural-activity {
  margin-top: 16px;
  padding: 12px;
  background: rgba(0,0,0,0.3);
  border-radius: var(--radius-md);
  border: 1px solid var(--border-subtle);
}

.neural-label {
  font-family: var(--font-mono);
  font-size: 8px;
  color: var(--text-dim);
  letter-spacing: 2px;
  text-transform: uppercase;
  margin-bottom: 8px;
}

.neural-bars {
  display: flex;
  align-items: flex-end;
  gap: 2px;
  height: 30px;
}

.neural-bar {
  flex: 1;
  background: var(--gold);
  border-radius: 2px 2px 0 0;
  min-height: 3px;
  opacity: 0.6;
  transition: height 0.15s ease;
}

/* ================================================
   RESULT DISPLAY
   ================================================ */
.result-section {
  display: none;
  padding: 0;
}

.result-section.active {
  display: block;
  animation: popIn 0.7s cubic-bezier(0.17, 0.67, 0.32, 1.3) both;
}

.result-main-card {
  padding: 32px 24px;
  text-align: center;
  position: relative;
  overflow: hidden;
  border-radius: var(--radius-xl);
}

.result-main-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 2px;
}

.result-main-card.result-big::before {
  background: linear-gradient(90deg, transparent, var(--emerald), transparent);
}

.result-main-card.result-small::before {
  background: linear-gradient(90deg, transparent, var(--rose), transparent);
}

.result-period-display {
  font-family: var(--font-mono);
  font-size: 10px;
  color: var(--text-dim);
  letter-spacing: 2px;
  margin-bottom: 8px;
}

.result-label {
  font-family: var(--font-mono);
  font-size: 9px;
  letter-spacing: 3px;
  text-transform: uppercase;
  color: var(--text-muted);
  margin-bottom: 6px;
}

.result-value {
  font-family: var(--font-display);
  font-size: 56px;
  font-weight: 900;
  letter-spacing: 4px;
  margin: 8px 0 16px;
  position: relative;
  display: inline-block;
}

.result-big .result-value {
  color: var(--emerald);
  text-shadow: 0 0 40px var(--emerald-glow);
}

.result-small .result-value {
  color: var(--rose);
  text-shadow: 0 0 40px var(--rose-glow);
}

.result-emoji {
  font-size: 48px;
  margin: 0 8px;
  display: inline-block;
  animation: bounceIn 0.6s ease 0.3s both;
}

/* Confidence Meter */
.confidence-section {
  margin-top: 20px;
  padding: 16px;
  background: rgba(0,0,0,0.3);
  border-radius: var(--radius-lg);
  border: 1px solid var(--border-subtle);
}

.confidence-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
}

.confidence-label {
  font-family: var(--font-mono);
  font-size: 9px;
  color: var(--text-muted);
  letter-spacing: 2px;
}

.confidence-value {
  font-family: var(--font-display);
  font-size: 14px;
  font-weight: 800;
  color: var(--emerald);
}

.confidence-bar {
  width: 100%;
  height: 6px;
  background: var(--bg-tertiary);
  border-radius: var(--radius-full);
  overflow: hidden;
}

.confidence-fill {
  height: 100%;
  border-radius: var(--radius-full);
  transition: width 1s ease;
  box-shadow: 0 0 8px currentColor;
}

.confidence-fill.high { background: var(--emerald); color: var(--emerald); }
.confidence-fill.medium { background: var(--gold); color: var(--gold); }
.confidence-fill.low { background: var(--rose); color: var(--rose); }

/* Strategy Table */
.strategy-card {
  margin-top: 12px;
  padding: 20px;
  border-radius: var(--radius-xl);
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  position: relative;
  overflow: hidden;
}

.strategy-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  width: 3px;
  background: linear-gradient(to bottom, var(--gold), var(--purple), var(--rose));
  border-radius: 0 99px 99px 0;
}

.strategy-title {
  font-family: var(--font-display);
  font-size: 10px;
  font-weight: 700;
  color: var(--gold);
  letter-spacing: 2px;
  margin-bottom: 14px;
  display: flex;
  align-items: center;
  gap: 8px;
}

.strategy-title i {
  font-size: 12px;
}

.strategy-table {
  width: 100%;
  border-collapse: collapse;
}

.strategy-table tr {
  border-bottom: 1px solid var(--border-subtle);
}

.strategy-table tr:last-child {
  border-bottom: none;
}

.strategy-table td {
  padding: 12px 4px;
  font-family: var(--font-ui);
  font-size: 12px;
  color: var(--text-secondary);
}

.strategy-table td:first-child {
  font-family: var(--font-mono);
  font-size: 10px;
  font-weight: 700;
  letter-spacing: 1px;
  color: var(--text-primary);
}

.strategy-table td:last-child {
  text-align: right;
  font-family: var(--font-mono);
  font-size: 10px;
  font-weight: 700;
  letter-spacing: 1px;
}

.strat-safe { color: var(--emerald) !important; }
.strat-recover { color: var(--gold) !important; }
.strat-final { color: var(--rose) !important; }

.level-indicator {
  display: inline-flex;
  align-items: center;
  gap: 4px;
}

.level-dot {
  width: 6px;
  height: 6px;
  border-radius: 50%;
}

/* Additional analysis data */
.analysis-data-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 8px;
  margin-top: 12px;
}

.analysis-data-item {
  padding: 12px;
  background: rgba(0,0,0,0.25);
  border-radius: var(--radius-md);
  border: 1px solid var(--border-subtle);
  text-align: center;
}

.analysis-data-value {
  font-family: var(--font-display);
  font-size: 14px;
  font-weight: 800;
  margin-bottom: 2px;
}

.analysis-data-label {
  font-family: var(--font-mono);
  font-size: 8px;
  color: var(--text-dim);
  letter-spacing: 1px;
  text-transform: uppercase;
}

/* ================================================
   HISTORY SECTION
   ================================================ */
#history-view {
  display: none;
  flex-direction: column;
  gap: 16px;
}

#history-view.active {
  display: flex;
}

.history-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
  max-height: 400px;
  overflow-y: auto;
  padding-right: 4px;
}

.history-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 14px 16px;
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-lg);
  transition: all var(--transition-fast);
  animation: fadeInUp 0.3s ease both;
}

.history-item:hover {
  border-color: var(--border-medium);
}

.history-icon {
  width: 36px;
  height: 36px;
  min-width: 36px;
  border-radius: var(--radius-sm);
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: var(--font-display);
  font-size: 11px;
  font-weight: 900;
}

.history-icon.big-icon {
  background: rgba(5, 150, 105, 0.1);
  color: var(--emerald);
  border: 1px solid rgba(5, 150, 105, 0.2);
}

.history-icon.small-icon {
  background: rgba(225, 29, 72, 0.1);
  color: var(--rose);
  border: 1px solid rgba(225, 29, 72, 0.2);
}

.history-details {
  flex: 1;
  min-width: 0;
}

.history-result-text {
  font-family: var(--font-display);
  font-size: 12px;
  font-weight: 700;
  letter-spacing: 1px;
}

.history-period-text {
  font-family: var(--font-mono);
  font-size: 9px;
  color: var(--text-dim);
  margin-top: 2px;
}

.history-meta {
  text-align: right;
}

.history-engine {
  font-family: var(--font-mono);
  font-size: 9px;
  color: var(--text-muted);
  letter-spacing: 1px;
}

.history-time {
  font-family: var(--font-mono);
  font-size: 8px;
  color: var(--text-dim);
  margin-top: 2px;
}

.history-empty {
  text-align: center;
  padding: 48px 20px;
}

.history-empty i {
  font-size: 40px;
  color: var(--text-dim);
  margin-bottom: 12px;
}

.history-empty p {
  font-family: var(--font-ui);
  font-size: 13px;
  color: var(--text-muted);
}

.history-empty span {
  font-family: var(--font-mono);
  font-size: 10px;
  color: var(--text-dim);
  display: block;
  margin-top: 4px;
}

/* ================================================
   SETTINGS VIEW
   ================================================ */
#settings-view {
  display: none;
  flex-direction: column;
  gap: 16px;
}

#settings-view.active {
  display: flex;
}

.settings-group {
  padding: 20px 24px;
}

.settings-group-title {
  font-family: var(--font-display);
  font-size: 10px;
  font-weight: 700;
  color: var(--text-muted);
  letter-spacing: 2px;
  margin-bottom: 16px;
}

.setting-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 14px 0;
  border-bottom: 1px solid var(--border-subtle);
}

.setting-item:last-child {
  border-bottom: none;
}

.setting-left {
  display: flex;
  align-items: center;
  gap: 12px;
}

.setting-icon {
  width: 36px;
  height: 36px;
  border-radius: var(--radius-sm);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
}

.setting-info h4 {
  font-family: var(--font-ui);
  font-size: 13px;
  font-weight: 600;
  color: var(--text-primary);
}

.setting-info p {
  font-family: var(--font-ui);
  font-size: 10px;
  color: var(--text-dim);
  margin-top: 2px;
}

/* Toggle Switch */
.toggle-switch {
  position: relative;
  width: 44px;
  height: 24px;
  cursor: pointer;
}

.toggle-switch input {
  opacity: 0;
  width: 0;
  height: 0;
}

.toggle-slider {
  position: absolute;
  inset: 0;
  background: var(--bg-tertiary);
  border-radius: var(--radius-full);
  border: 1px solid var(--border-subtle);
  transition: all var(--transition-normal);
}

.toggle-slider::before {
  content: '';
  position: absolute;
  width: 18px;
  height: 18px;
  left: 2px;
  bottom: 2px;
  background: var(--text-muted);
  border-radius: 50%;
  transition: all var(--transition-normal);
}

.toggle-switch input:checked + .toggle-slider {
  background: rgba(212, 160, 18, 0.2);
  border-color: var(--gold);
}

.toggle-switch input:checked + .toggle-slider::before {
  transform: translateX(20px);
  background: var(--gold);
  box-shadow: 0 0 8px var(--gold-glow);
}

/* ================================================
   PROFILE VIEW
   ================================================ */
#profile-view {
  display: none;
  flex-direction: column;
  gap: 16px;
}

#profile-view.active {
  display: flex;
}

.profile-header {
  text-align: center;
  padding: 32px 24px;
}

.profile-avatar {
  width: 80px;
  height: 80px;
  margin: 0 auto 16px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--gold), var(--purple));
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: var(--font-display);
  font-size: 28px;
  font-weight: 900;
  color: white;
  position: relative;
  animation: float 5s ease-in-out infinite;
}

.profile-avatar::after {
  content: '';
  position: absolute;
  inset: -4px;
  border-radius: 50%;
  border: 2px solid transparent;
  border-top-color: var(--gold);
  animation: rotate 4s linear infinite;
}

.profile-name {
  font-family: var(--font-display);
  font-size: 18px;
  font-weight: 800;
  letter-spacing: 3px;
  color: var(--text-primary);
}

.profile-role {
  font-family: var(--font-mono);
  font-size: 10px;
  color: var(--gold);
  letter-spacing: 2px;
  margin-top: 4px;
}

.profile-stats-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 8px;
  margin-top: 20px;
}

.profile-stat {
  text-align: center;
  padding: 14px 4px;
  background: rgba(0,0,0,0.2);
  border-radius: var(--radius-md);
  border: 1px solid var(--border-subtle);
}

.profile-stat-num {
  font-family: var(--font-display);
  font-size: 18px;
  font-weight: 800;
}

.profile-stat-label {
  font-family: var(--font-ui);
  font-size: 9px;
  color: var(--text-dim);
  letter-spacing: 1px;
  text-transform: uppercase;
  margin-top: 2px;
}

/* Achievements */
.achievements-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 8px;
}

.achievement-item {
  padding: 16px 8px;
  text-align: center;
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-lg);
  transition: all var(--transition-normal);
}

.achievement-item.unlocked {
  border-color: rgba(212, 160, 18, 0.3);
  background: rgba(212, 160, 18, 0.03);
}

.achievement-item.locked {
  opacity: 0.35;
}

.achievement-icon {
  font-size: 24px;
  margin-bottom: 6px;
}

.achievement-name {
  font-family: var(--font-ui);
  font-size: 9px;
  font-weight: 600;
  color: var(--text-secondary);
  letter-spacing: 0.5px;
}

.achievement-item.locked .achievement-name {
  color: var(--text-dim);
}

/* ================================================
   BOTTOM NAVIGATION
   ================================================ */
.bottom-nav {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  z-index: 500;
  padding: 0 16px 8px;
}

.bottom-nav-inner {
  max-width: 460px;
  margin: 0 auto;
  background: rgba(15, 15, 25, 0.95);
  backdrop-filter: blur(30px);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-xl);
  padding: 8px 12px;
  display: flex;
  align-items: center;
  justify-content: space-around;
  box-shadow: 0 -8px 32px rgba(0,0,0,0.5);
}

.nav-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  padding: 8px 12px;
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: all var(--transition-normal);
  position: relative;
  color: var(--text-dim);
  min-width: 52px;
}

.nav-item:hover {
  color: var(--text-secondary);
}

.nav-item.active {
  color: var(--gold);
}

.nav-item.active::after {
  content: '';
  position: absolute;
  top: -1px;
  left: 50%;
  transform: translateX(-50%);
  width: 20px;
  height: 3px;
  background: var(--gold);
  border-radius: 0 0 99px 99px;
  box-shadow: 0 2px 8px var(--gold-glow);
}

.nav-item i {
  font-size: 18px;
  transition: all var(--transition-fast);
}

.nav-item.active i {
  transform: translateY(-2px);
}

.nav-item span {
  font-family: var(--font-ui);
  font-size: 9px;
  font-weight: 600;
  letter-spacing: 0.5px;
}

/* ================================================
   TOAST NOTIFICATIONS
   ================================================ */
.toast-container {
  position: fixed;
  top: 20px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 20000;
  display: flex;
  flex-direction: column;
  gap: 8px;
  max-width: 400px;
  width: calc(100% - 32px);
  pointer-events: none;
}

.toast {
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  backdrop-filter: blur(30px);
  border-radius: var(--radius-lg);
  padding: 14px 18px;
  display: flex;
  align-items: center;
  gap: 12px;
  animation: slideDown 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) both;
  box-shadow: var(--shadow-lg);
  pointer-events: auto;
}

.toast.toast-exit {
  animation: fadeOut 0.3s ease forwards;
}

@keyframes fadeOut {
  to { opacity: 0; transform: translateY(-10px) scale(0.95); }
}

.toast-icon {
  width: 32px;
  height: 32px;
  min-width: 32px;
  border-radius: var(--radius-sm);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
}

.toast-success .toast-icon {
  background: rgba(5, 150, 105, 0.1);
  color: var(--emerald);
}

.toast-error .toast-icon {
  background: rgba(225, 29, 72, 0.1);
  color: var(--rose);
}

.toast-warning .toast-icon {
  background: rgba(212, 160, 18, 0.1);
  color: var(--gold);
}

.toast-info .toast-icon {
  background: rgba(37, 99, 235, 0.1);
  color: var(--blue);
}

.toast-content {
  flex: 1;
}

.toast-title {
  font-family: var(--font-ui);
  font-size: 12px;
  font-weight: 700;
  color: var(--text-primary);
}

.toast-message {
  font-family: var(--font-ui);
  font-size: 11px;
  color: var(--text-muted);
  margin-top: 2px;
}

/* ================================================
   MODAL / LOGOUT
   ================================================ */
.modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.7);
  backdrop-filter: blur(10px);
  z-index: 15000;
  display: none;
  align-items: center;
  justify-content: center;
  padding: 24px;
}

.modal-overlay.active {
  display: flex;
}

.modal-card {
  width: 100%;
  max-width: 360px;
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-xl);
  padding: 32px 24px;
  text-align: center;
  animation: popIn 0.5s cubic-bezier(0.17, 0.67, 0.32, 1.3) both;
}

.modal-icon {
  width: 60px;
  height: 60px;
  margin: 0 auto 16px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 24px;
}

.modal-title {
  font-family: var(--font-display);
  font-size: 16px;
  font-weight: 800;
  letter-spacing: 2px;
  color: var(--text-primary);
  margin-bottom: 8px;
}

.modal-desc {
  font-family: var(--font-ui);
  font-size: 12px;
  color: var(--text-muted);
  margin-bottom: 24px;
  line-height: 1.5;
}

.modal-buttons {
  display: flex;
  gap: 10px;
}

.modal-btn {
  flex: 1;
  padding: 14px;
  border-radius: var(--radius-md);
  font-family: var(--font-ui);
  font-size: 12px;
  font-weight: 700;
  letter-spacing: 1px;
  transition: all var(--transition-normal);
  text-transform: uppercase;
}

.modal-btn-cancel {
  background: var(--bg-tertiary);
  color: var(--text-secondary);
  border: 1px solid var(--border-subtle);
}

.modal-btn-cancel:hover {
  background: rgba(255,255,255,0.05);
}

.modal-btn-danger {
  background: linear-gradient(135deg, var(--rose), var(--rose-dark));
  color: white;
  box-shadow: 0 4px 16px rgba(225, 29, 72, 0.25);
}

.modal-btn-danger:hover {
  transform: translateY(-1px);
  box-shadow: 0 8px 24px rgba(225, 29, 72, 0.3);
}

/* ================================================
   CONFETTI CANVAS
   ================================================ */
#confetti-canvas {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 12000;
  pointer-events: none;
}

/* ================================================
   STREAK DISPLAY
   ================================================ */
.streak-bar {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 12px 16px;
  background: rgba(0,0,0,0.2);
  border-radius: var(--radius-md);
  border: 1px solid var(--border-subtle);
  margin-top: 12px;
}

.streak-label {
  font-family: var(--font-mono);
  font-size: 9px;
  color: var(--text-dim);
  letter-spacing: 1px;
  min-width: 50px;
}

.streak-dots {
  display: flex;
  gap: 4px;
  flex: 1;
}

.streak-dot {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 8px;
  font-weight: 800;
  border: 1px solid var(--border-subtle);
  background: rgba(0,0,0,0.3);
  color: var(--text-dim);
  transition: all var(--transition-normal);
}

.streak-dot.big-dot {
  background: rgba(5, 150, 105, 0.15);
  border-color: rgba(5, 150, 105, 0.3);
  color: var(--emerald);
}

.streak-dot.small-dot {
  background: rgba(225, 29, 72, 0.15);
  border-color: rgba(225, 29, 72, 0.3);
  color: var(--rose);
}

/* ================================================
   LIVE CLOCK
   ================================================ */
.live-clock {
  font-family: var(--font-mono);
  font-size: 10px;
  color: var(--text-dim);
  letter-spacing: 1px;
  display: flex;
  align-items: center;
  gap: 6px;
}

.live-clock i {
  font-size: 9px;
  color: var(--gold);
}

/* ================================================
   SIGNAL BARS
   ================================================ */
.signal-bars {
  display: flex;
  align-items: flex-end;
  gap: 2px;
  height: 14px;
}

.signal-bar {
  width: 3px;
  background: var(--emerald);
  border-radius: 1px;
  transition: all var(--transition-normal);
}

.signal-bar:nth-child(1) { height: 4px; }
.signal-bar:nth-child(2) { height: 7px; }
.signal-bar:nth-child(3) { height: 10px; }
.signal-bar:nth-child(4) { height: 14px; }

.signal-bar.inactive {
  background: var(--text-dim);
  opacity: 0.3;
}

/* ================================================
   SCROLL INDICATOR
   ================================================ */
.scroll-top-btn {
  position: fixed;
  bottom: 100px;
  right: 20px;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  display: none;
  align-items: center;
  justify-content: center;
  color: var(--text-muted);
  font-size: 14px;
  z-index: 400;
  cursor: pointer;
  transition: all var(--transition-normal);
  backdrop-filter: blur(20px);
  box-shadow: var(--shadow-md);
}

.scroll-top-btn.show {
  display: flex;
}

.scroll-top-btn:hover {
  color: var(--gold);
  border-color: var(--gold);
}

/* ================================================
   SESSION INFO
   ================================================ */
.session-info-card {
  padding: 20px 24px;
}

.session-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
}

.session-item {
  padding: 12px;
  background: rgba(0,0,0,0.2);
  border-radius: var(--radius-md);
  border: 1px solid var(--border-subtle);
}

.session-item-label {
  font-family: var(--font-mono);
  font-size: 8px;
  color: var(--text-dim);
  letter-spacing: 1.5px;
  text-transform: uppercase;
  margin-bottom: 4px;
}

.session-item-value {
  font-family: var(--font-ui);
  font-size: 13px;
  font-weight: 600;
  color: var(--text-primary);
}

/* ================================================
   CHART / ANALYTICS STUB
   ================================================ */
.chart-container {
  padding: 20px 24px;
}

.mini-chart {
  display: flex;
  align-items: flex-end;
  gap: 4px;
  height: 60px;
  padding: 8px 0;
}

.mini-chart-bar {
  flex: 1;
  border-radius: 3px 3px 0 0;
  min-height: 4px;
  transition: height 0.5s ease;
  position: relative;
  cursor: pointer;
}

.mini-chart-bar:hover {
  opacity: 0.8;
}

.mini-chart-bar .tooltip {
  display: none;
  position: absolute;
  bottom: calc(100% + 6px);
  left: 50%;
  transform: translateX(-50%);
  background: var(--bg-card);
  border: 1px solid var(--border-medium);
  padding: 4px 8px;
  border-radius: var(--radius-sm);
  font-family: var(--font-mono);
  font-size: 8px;
  color: var(--text-primary);
  white-space: nowrap;
  z-index: 10;
}

.mini-chart-bar:hover .tooltip {
  display: block;
}

.chart-legend {
  display: flex;
  justify-content: center;
  gap: 16px;
  margin-top: 12px;
}

.chart-legend-item {
  display: flex;
  align-items: center;
  gap: 6px;
  font-family: var(--font-ui);
  font-size: 10px;
  color: var(--text-muted);
}

.chart-legend-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
}

/* ================================================
   NOTIFICATION BADGE (on nav)
   ================================================ */
.nav-badge {
  position: absolute;
  top: 2px;
  right: 6px;
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: var(--rose);
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: var(--font-mono);
  font-size: 8px;
  font-weight: 800;
  color: white;
  box-shadow: 0 2px 8px rgba(225, 29, 72, 0.4);
}

/* ================================================
   ACCESSIBILITY FOCUS
   ================================================ */
*:focus-visible {
  outline: 2px solid var(--gold);
  outline-offset: 2px;
}

/* ================================================
   RESPONSIVE FINE TUNING
   ================================================ */
@media (max-width: 380px) {
  .header-logo-text { font-size: 18px; letter-spacing: 3px; }
  .game-grid { gap: 8px; }
  .game-card { padding: 14px 10px; }
  .quick-stats-grid { grid-template-columns: repeat(2, 1fr); }
  .header-stats { grid-template-columns: repeat(3, 1fr); gap: 6px; }
  .result-value { font-size: 42px; }
  .bottom-nav-inner { padding: 6px 8px; }
  .nav-item { padding: 6px 8px; min-width: 44px; }
}

@media (min-width: 460px) {
  #main-app { padding: 20px 20px 100px; }
  .game-card { padding: 24px 20px; }
}

/* ================================================
   PRINT STYLES
   ================================================ */
@media print {
  body { background: white; color: black; }
  .bottom-nav, .bg-ambient-orb, .bg-grid-overlay, .bg-noise,
  .bg-vignette, .bg-scanlines, .bg-scan-beam, #particle-canvas { display: none !important; }
}

/* ================================================
   ANIMATIONS FOR PAGES
   ================================================ */
.page-enter {
  animation: fadeInUp 0.5s ease both;
}

.page-exit {
  animation: fadeOut 0.3s ease both;
}

/* ================================================
   EXTRA DECORATIVE ELEMENTS
   ================================================ */
.hex-pattern {
  position: absolute;
  top: 0;
  right: 0;
  width: 80px;
  height: 80px;
  opacity: 0.03;
  background-image: url("data:image/svg+xml,%3Csvg width='28' height='49' viewBox='0 0 28 49' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='1'%3E%3Cpath d='M13.99 9.25l13 7.5v15l-13 7.5L1 31.75v-15l12.99-7.5zM3 17.9v12.7l10.99 6.34 11-6.35V17.9l-11-6.34L3 17.9z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
}

.data-stream {
  position: absolute;
  right: 12px;
  top: 12px;
  font-family: var(--font-mono);
  font-size: 7px;
  color: var(--text-dim);
  opacity: 0.3;
  letter-spacing: 1px;
  writing-mode: vertical-rl;
  text-orientation: mixed;
}

/* ================================================
   WELCOME BANNER
   ================================================ */
.welcome-banner {
  background: linear-gradient(135deg, rgba(212, 160, 18, 0.08), rgba(124, 58, 237, 0.05));
  border: 1px solid rgba(212, 160, 18, 0.12);
  border-radius: var(--radius-xl);
  padding: 20px 24px;
  display: flex;
  align-items: center;
  gap: 16px;
  position: relative;
  overflow: hidden;
}

.welcome-banner::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(90deg, transparent, var(--gold), transparent);
  opacity: 0.3;
}

.welcome-avatar {
  width: 44px;
  height: 44px;
  min-width: 44px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--gold), var(--purple));
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: var(--font-display);
  font-size: 16px;
  font-weight: 900;
  color: white;
}

.welcome-text h3 {
  font-family: var(--font-heading);
  font-size: 16px;
  font-weight: 700;
  color: var(--text-primary);
}

.welcome-text p {
  font-family: var(--font-ui);
  font-size: 11px;
  color: var(--text-muted);
  margin-top: 2px;
}

.welcome-time {
  margin-left: auto;
  text-align: right;
}

.welcome-time .time-display {
  font-family: var(--font-mono);
  font-size: 16px;
  font-weight: 700;
  color: var(--text-primary);
}

.welcome-time .date-display {
  font-family: var(--font-mono);
  font-size: 9px;
  color: var(--text-dim);
  margin-top: 2px;
}

/* ================================================
   ACCURACY RING
   ================================================ */
.accuracy-ring-container {
  position: relative;
  width: 100px;
  height: 100px;
  margin: 0 auto;
}

.accuracy-ring-svg {
  width: 100%;
  height: 100%;
  transform: rotate(-90deg);
}

.accuracy-ring-bg {
  fill: none;
  stroke: var(--bg-tertiary);
  stroke-width: 6;
}

.accuracy-ring-fill {
  fill: none;
  stroke: var(--emerald);
  stroke-width: 6;
  stroke-linecap: round;
  stroke-dasharray: 251;
  stroke-dashoffset: 251;
  transition: stroke-dashoffset 1.5s ease;
}

.accuracy-ring-text {
  position: absolute;
  inset: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

.accuracy-ring-value {
  font-family: var(--font-display);
  font-size: 22px;
  font-weight: 900;
  color: var(--emerald);
}

.accuracy-ring-label {
  font-family: var(--font-mono);
  font-size: 7px;
  color: var(--text-dim);
  letter-spacing: 1.5px;
  text-transform: uppercase;
}

/* ================================================
   PREDICTION HISTORY MINI CHART
   ================================================ */
.prediction-mini-stats {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 8px;
  margin-top: 12px;
}

.prediction-mini-stat {
  padding: 14px 12px;
  background: rgba(0,0,0,0.2);
  border-radius: var(--radius-md);
  border: 1px solid var(--border-subtle);
  display: flex;
  align-items: center;
  gap: 10px;
}

.prediction-mini-stat-icon {
  width: 32px;
  height: 32px;
  border-radius: var(--radius-sm);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 13px;
}

.prediction-mini-stat-info .val {
  font-family: var(--font-display);
  font-size: 16px;
  font-weight: 800;
}

.prediction-mini-stat-info .lbl {
  font-family: var(--font-mono);
  font-size: 8px;
  color: var(--text-dim);
  letter-spacing: 1px;
  text-transform: uppercase;
}

/* ================================================
   DATA TABLE (Settings/About)
   ================================================ */
.data-table {
  width: 100%;
  border-collapse: collapse;
}

.data-table tr {
  border-bottom: 1px solid var(--border-subtle);
}

.data-table tr:last-child { border-bottom: none; }

.data-table td {
  padding: 10px 4px;
  font-family: var(--font-ui);
  font-size: 12px;
}

.data-table td:first-child {
  color: var(--text-muted);
}

.data-table td:last-child {
  text-align: right;
  color: var(--text-primary);
  font-weight: 600;
}

/* ================================================
   MISC
   ================================================ */
.divider {
  height: 1px;
  background: var(--border-subtle);
  margin: 8px 0;
}

.spacer-sm { height: 8px; }
.spacer-md { height: 16px; }
.spacer-lg { height: 24px; }

.invisible { opacity: 0; pointer-events: none; }
.hidden { display: none !important; }

.glow-border-gold {
  animation: borderGlow 3s ease-in-out infinite;
}

.text-gradient-gold {
  background: linear-gradient(135deg, var(--gold-light), var(--gold), var(--gold-dark));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.text-gradient-purple {
  background: linear-gradient(135deg, var(--purple-light), var(--purple));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.loading-dots::after {
  content: '';
  animation: loadDots 1.5s steps(4, end) infinite;
}

@keyframes loadDots {
  0% { content: ''; }
  25% { content: '.'; }
  50% { content: '..'; }
  75% { content: '...'; }
}

/* Disable body scroll when modal open */
body.modal-open {
  overflow: hidden;
}

/* Custom Scrollbar for history */
.history-list::-webkit-scrollbar { width: 3px; }
.history-list::-webkit-scrollbar-thumb { background: var(--border-medium); border-radius: 99px; }

/* Features scroll indicator */
.scroll-indicator {
  text-align: center;
  margin-top: 4px;
}

.scroll-indicator-dots {
  display: flex;
  justify-content: center;
  gap: 4px;
}

.scroll-indicator-dot {
  width: 4px;
  height: 4px;
  border-radius: 50%;
  background: var(--text-dim);
}

.scroll-indicator-dot.active {
  background: var(--gold);
  width: 12px;
  border-radius: 99px;
}
</style>
</head>
<body>

<!-- ============================================
     BACKGROUND EFFECTS
     ============================================ -->
<canvas id="particle-canvas"></canvas>
<div class="bg-ambient-orb orb-1"></div>
<div class="bg-ambient-orb orb-2"></div>
<div class="bg-ambient-orb orb-3"></div>
<div class="bg-ambient-orb orb-4"></div>
<div class="bg-grid-overlay"></div>
<div class="bg-noise"></div>
<div class="bg-vignette"></div>
<div class="bg-scanlines"></div>
<div class="bg-scan-beam"></div>

<!-- ============================================
     CONFETTI CANVAS
     ============================================ -->
<canvas id="confetti-canvas"></canvas>

<!-- ============================================
     TOAST CONTAINER
     ============================================ -->
<div class="toast-container" id="toast-container"></div>

<!-- ============================================
     SPLASH SCREEN
     ============================================ -->
<div id="splash-screen">
  <div class="splash-logo-container">
    <div class="splash-ring splash-ring-1"></div>
    <div class="splash-ring splash-ring-2"></div>
    <div class="splash-ring splash-ring-3"></div>
    <i class="fas fa-brain splash-icon"></i>
  </div>

  <div>
    <div class="splash-title">NEURAL PREDICTOR</div>
    <div class="splash-subtitle">GOD LEVEL ENGINE v11.0</div>
  </div>

  <div class="splash-progress-container">
    <div class="splash-progress-track">
      <div class="splash-progress-fill" id="splash-progress"></div>
    </div>
    <div class="splash-status" id="splash-status">INITIALIZING CORE</div>
  </div>

  <div class="splash-version">BUILD 2025.06.28 | ULTRA MAX EDITION</div>
</div>

<!-- ============================================
     AUTH SCREEN
     ============================================ -->
<div id="auth-screen">
  <div class="auth-container">
    <div class="auth-card">
      <div class="auth-icon-wrap">
        <i class="fas fa-fingerprint"></i>
      </div>

      <div class="auth-title">SECURE ACCESS</div>
      <div class="auth-desc">Enter your access key to unlock the prediction engine</div>

      <div class="auth-input-group">
        <label>ACCESS KEY</label>
        <div class="auth-input-wrap">
          <i class="fas fa-key input-icon"></i>
          <input type="password" id="key-input" class="auth-input" placeholder="Enter key..." autocomplete="off">
          <i class="fas fa-eye toggle-pass" id="toggle-pass" onclick="togglePassword()"></i>
        </div>
        <div class="auth-error" id="auth-error">
          <i class="fas fa-exclamation-circle"></i>
          <span>Invalid access key. Try again.</span>
        </div>
      </div>

      <button class="auth-btn" id="auth-btn" onclick="authenticate()">
        <i class="fas fa-shield-halved"></i>&nbsp;&nbsp;UNLOCK SYSTEM
      </button>

      <div class="auth-footer">
        <div class="auth-footer-text">
          <i class="fas fa-circle"></i>
          ENCRYPTED CONNECTION &bull; 256-BIT SSL
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ============================================
     LOGOUT MODAL
     ============================================ -->
<div class="modal-overlay" id="logout-modal">
  <div class="modal-card">
    <div class="modal-icon" style="background: rgba(225, 29, 72, 0.1); color: var(--rose);">
      <i class="fas fa-power-off"></i>
    </div>
    <div class="modal-title">LOCK SYSTEM</div>
    <div class="modal-desc">This will end your session and lock the predictor. You'll need to re-enter your access key.</div>
    <div class="modal-buttons">
      <button class="modal-btn modal-btn-cancel" onclick="closeModal()">CANCEL</button>
      <button class="modal-btn modal-btn-danger" onclick="confirmLogout()">LOCK OUT</button>
    </div>
  </div>
</div>

<!-- ============================================
     SCROLL TO TOP
     ============================================ -->
<button class="scroll-top-btn" id="scroll-top-btn" onclick="window.scrollTo({top:0,behavior:'smooth'})">
  <i class="fas fa-chevron-up"></i>
</button>

<!-- ============================================
     MAIN APPLICATION
     ============================================ -->
<div id="main-app">

  <!-- ==========================================
       HEADER CARD
       ========================================== -->
  <div class="card header-card animate-fadeInDown">
    <div class="card-corner tl"></div>
    <div class="card-corner tr"></div>
    <div class="card-corner bl"></div>
    <div class="card-corner br"></div>

    <div class="header-top">
      <div class="badge badge-online">
        <i class="fas fa-circle"></i>
        SYSTEM ONLINE
      </div>
      <div class="flex items-center gap-10">
        <div class="signal-bars">
          <div class="signal-bar"></div>
          <div class="signal-bar"></div>
          <div class="signal-bar"></div>
          <div class="signal-bar"></div>
        </div>
        <button class="power-btn" onclick="showLogoutModal()" title="Logout">
          <i class="fas fa-power-off"></i>
        </button>
      </div>
    </div>

    <div class="header-brand">
      <div class="header-logo-text">NEURAL PREDICTOR</div>
      <div class="header-version">v11.0 &bull; GOD LEVEL &bull; ULTRA MAX</div>
      <div class="header-divider"></div>
    </div>

    <div class="header-stats">
      <div class="header-stat">
        <div class="header-stat-value color-gold" id="stat-predictions">0</div>
        <div class="header-stat-label">Predictions</div>
      </div>
      <div class="header-stat">
        <div class="header-stat-value color-emerald" id="stat-accuracy">97.8%</div>
        <div class="header-stat-label">Accuracy</div>
      </div>
      <div class="header-stat">
        <div class="header-stat-value color-purple" id="stat-streak">0</div>
        <div class="header-stat-label">Streak</div>
      </div>
    </div>
  </div>

  <!-- ==========================================
       LIVE INFO BAR
       ========================================== -->
  <div class="live-info-bar animate-fadeInUp delay-100">
    <div class="live-dot"></div>
    <div class="live-marquee-wrap">
      <div class="live-marquee" id="marquee-content">
        <span><i class="fas fa-bolt"></i> JALWA engine running at 99.2% capacity</span>
        <span><i class="fas fa-shield-halved"></i> Encrypted prediction pipeline active</span>
        <span><i class="fas fa-chart-line"></i> 12,847 successful predictions today</span>
        <span><i class="fas fa-server"></i> Neural cores: 8/8 online</span>
        <span><i class="fas fa-globe"></i> Connected to 4 regional servers</span>
        <span><i class="fas fa-lock"></i> Zero-knowledge proof verification enabled</span>
        <span><i class="fas fa-bolt"></i> JALWA engine running at 99.2% capacity</span>
        <span><i class="fas fa-shield-halved"></i> Encrypted prediction pipeline active</span>
        <span><i class="fas fa-chart-line"></i> 12,847 successful predictions today</span>
        <span><i class="fas fa-server"></i> Neural cores: 8/8 online</span>
        <span><i class="fas fa-globe"></i> Connected to 4 regional servers</span>
        <span><i class="fas fa-lock"></i> Zero-knowledge proof verification enabled</span>
      </div>
    </div>
  </div>

  <!-- ==========================================
       HOME VIEW
       ========================================== -->
  <div id="home-view">

    <!-- Welcome Banner -->
    <div class="welcome-banner animate-fadeInUp delay-200">
      <div class="welcome-avatar">N</div>
      <div class="welcome-text">
        <h3>Welcome back!</h3>
        <p>Neural engines are warmed up and ready</p>
      </div>
      <div class="welcome-time">
        <div class="time-display" id="welcome-time">--:--</div>
        <div class="date-display" id="welcome-date">---</div>
      </div>
    </div>

    <!-- Quick Stats Grid -->
    <div class="quick-stats-grid animate-fadeInUp delay-300">
      <div class="quick-stat-item">
        <div class="quick-stat-icon color-gold"><i class="fas fa-brain"></i></div>
        <div class="quick-stat-num" id="qs-engines">2</div>
        <div class="quick-stat-lbl">Engines</div>
      </div>
      <div class="quick-stat-item">
        <div class="quick-stat-icon color-emerald"><i class="fas fa-check-double"></i></div>
        <div class="quick-stat-num" id="qs-success">0</div>
        <div class="quick-stat-lbl">Success</div>
      </div>
      <div class="quick-stat-item">
        <div class="quick-stat-icon color-purple"><i class="fas fa-layer-group"></i></div>
        <div class="quick-stat-num" id="qs-sessions">1</div>
        <div class="quick-stat-lbl">Sessions</div>
      </div>
      <div class="quick-stat-item">
        <div class="quick-stat-icon color-rose"><i class="fas fa-clock"></i></div>
        <div class="quick-stat-num" id="qs-uptime">0m</div>
        <div class="quick-stat-lbl">Uptime</div>
      </div>
    </div>

    <!-- Game Selector -->
    <div id="selector-view" class="animate-fadeInUp delay-400">
      <div class="section-header">
        <div class="section-title">SELECT ENGINE</div>
        <div class="section-badge">4 ENGINES</div>
      </div>

      <div class="game-grid">
        <!-- JALWA -->
        <div class="game-card jalwa-card active-game" onclick="openEngine('JALWA')">
          <div class="game-card-badge badge-hot">HOT</div>
          <div class="game-logo-wrap">
            <img src="https://i.ibb.co/Kc0Dv4Nz/IMG-20250628-082convener128.jpg" alt="JALWA" onerror="this.parentElement.innerHTML='<div class=game-logo-placeholder><i class=fas fa-bolt style=color:var(--gold)></i></div>'">
          </div>
          <div class="game-card-name">JALWA</div>
          <div class="game-card-desc">Premium Neural Engine</div>
          <div class="game-card-stats">
            <div class="game-card-stat"><i class="fas fa-circle" style="color:var(--emerald)"></i> LIVE</div>
            <div class="game-card-stat"><i class="fas fa-star" style="color:var(--gold)"></i> 99.2%</div>
          </div>
        </div>

        <!-- OK WIN -->
        <div class="game-card okwin-card active-game" onclick="openEngine('OK WIN')">
          <div class="game-card-badge badge-live"><i class="fas fa-circle" style="font-size:5px"></i> LIVE</div>
          <div class="game-logo-wrap">
            <img src="https://i.ibb.co/4w6TF0w2/IMG-20250628-082045.jpg" alt="OK WIN" onerror="this.parentElement.innerHTML='<div class=game-logo-placeholder><i class=fas fa-microchip style=color:var(--blue-light)></i></div>'">
          </div>
          <div class="game-card-name">OK WIN</div>
          <div class="game-card-desc">Quantum Analysis Core</div>
          <div class="game-card-stats">
            <div class="game-card-stat"><i class="fas fa-circle" style="color:var(--emerald)"></i> LIVE</div>
            <div class="game-card-stat"><i class="fas fa-star" style="color:var(--gold)"></i> 98.7%</div>
          </div>
        </div>

        <!-- COMING SOON 1 -->
        <div class="game-card locked" onclick="showToast('info','Coming Soon','This engine is under development')">
          <div class="game-lock-overlay">
            <i class="fas fa-lock"></i>
            <span>COMING SOON</span>
          </div>
          <div class="game-card-badge badge-soon">SOON</div>
          <div class="game-logo-wrap">
            <div class="game-logo-placeholder"><i class="fas fa-crown" style="color:var(--text-dim)"></i></div>
          </div>
          <div class="game-card-name">99 CLUB</div>
          <div class="game-card-desc">Under Development</div>
        </div>

        <!-- COMING SOON 2 -->
        <div class="game-card locked" onclick="showToast('info','Coming Soon','This engine is under development')">
          <div class="game-lock-overlay">
            <i class="fas fa-lock"></i>
            <span>COMING SOON</span>
          </div>
          <div class="game-card-badge badge-soon">SOON</div>
          <div class="game-logo-wrap">
            <div class="game-logo-placeholder"><i class="fas fa-dice" style="color:var(--text-dim)"></i></div>
          </div>
          <div class="game-card-name">WINGO</div>
          <div class="game-card-desc">Under Development</div>
        </div>
      </div>
    </div>

    <!-- Features Horizontal Scroll -->
    <div class="animate-fadeInUp delay-500">
      <div class="section-header" style="margin-bottom:10px">
        <div class="section-title">FEATURES</div>
      </div>
      <div class="features-scroll">
        <div class="feature-chip">
          <div class="feature-chip-icon" style="background:rgba(212,160,18,0.1);color:var(--gold)"><i class="fas fa-brain"></i></div>
          <div class="feature-chip-text">AI Neural Net</div>
        </div>
        <div class="feature-chip">
          <div class="feature-chip-icon" style="background:rgba(5,150,105,0.1);color:var(--emerald)"><i class="fas fa-shield-halved"></i></div>
          <div class="feature-chip-text">256-bit Encrypted</div>
        </div>
        <div class="feature-chip">
          <div class="feature-chip-icon" style="background:rgba(124,58,237,0.1);color:var(--purple)"><i class="fas fa-bolt"></i></div>
          <div class="feature-chip-text">Real-time Analysis</div>
        </div>
        <div class="feature-chip">
          <div class="feature-chip-icon" style="background:rgba(225,29,72,0.1);color:var(--rose)"><i class="fas fa-chart-line"></i></div>
          <div class="feature-chip-text">Pattern Detection</div>
        </div>
        <div class="feature-chip">
          <div class="feature-chip-icon" style="background:rgba(37,99,235,0.1);color:var(--blue)"><i class="fas fa-server"></i></div>
          <div class="feature-chip-text">Multi-server Sync</div>
        </div>
        <div class="feature-chip">
          <div class="feature-chip-icon" style="background:rgba(217,119,6,0.1);color:var(--amber)"><i class="fas fa-trophy"></i></div>
          <div class="feature-chip-text">97%+ Win Rate</div>
        </div>
      </div>
    </div>

    <!-- Tip of the Day -->
    <div class="tip-card animate-fadeInUp delay-600">
      <div class="tip-icon"><i class="fas fa-lightbulb"></i></div>
      <div class="tip-content">
        <div class="tip-label">STRATEGY TIP</div>
        <div class="tip-text" id="tip-text">Always follow the 3-level strategy for maximum recovery. Never skip levels to maintain your edge.</div>
      </div>
    </div>
  </div>

  <!-- ==========================================
       PREDICTOR VIEW
       ========================================== -->
  <div id="predictor-view">

    <div class="back-button" onclick="goBack()">
      <i class="fas fa-chevron-left"></i>
      <span>BACK TO ENGINES</span>
    </div>

    <!-- Engine Header -->
    <div class="card engine-header animate-fadeInUp">
      <div class="card-corner tl"></div>
      <div class="card-corner tr"></div>
      <div class="card-corner bl"></div>
      <div class="card-corner br"></div>
      <div class="hex-pattern"></div>

      <div class="engine-logo-wrap" id="engine-logo-wrap">
        <!-- Filled by JS -->
      </div>

      <div class="engine-name" id="engine-name">ENGINE</div>
      <div class="engine-subtitle" id="engine-subtitle">PREDICTION ENGINE</div>

      <div class="engine-status-bar">
        <div class="engine-status-item">
          <div class="dot dot-green"></div>
          <span>ONLINE</span>
        </div>
        <div class="engine-status-item">
          <div class="dot dot-gold"></div>
          <span>LOW LATENCY</span>
        </div>
        <div class="engine-status-item">
          <div class="dot dot-blue"></div>
          <span>SECURE</span>
        </div>
      </div>
    </div>

    <!-- Input Section -->
    <div class="card input-section animate-fadeInUp delay-100">
      <div class="input-label">
        <i class="fas fa-hashtag"></i>
        PERIOD NUMBER
      </div>

      <div class="period-input-wrap">
        <input type="text" inputmode="numeric" id="period-input" class="period-input" placeholder="Enter period number" autocomplete="off">
      </div>

      <div class="period-info">
        <span id="period-length-info">0 digits entered</span>
        <span class="live-clock"><i class="fas fa-clock"></i> <span id="predictor-clock">--:--:--</span></span>
      </div>

      <div class="spacer-md"></div>

      <button class="run-btn" id="run-btn" onclick="runPrediction()">
        <span class="ripple-container" id="ripple-container"></span>
        <i class="fas fa-play"></i>&nbsp;&nbsp;START ANALYSIS
      </button>
    </div>

    <!-- Analysis Progress -->
    <div class="card analysis-section" id="analysis-section">
      <div class="analysis-header">
        <div class="analysis-title">NEURAL ANALYSIS</div>
        <div class="analysis-percent" id="analysis-percent">0%</div>
      </div>

      <div class="analysis-progress-bar">
        <div class="analysis-progress-fill" id="analysis-fill"></div>
      </div>

      <div class="analysis-steps" id="analysis-steps">
        <div class="analysis-step" data-step="0">
          <div class="step-indicator"><i class="fas fa-check"></i></div>
          <div class="step-text">BYPASSING ENCRYPTION LAYER</div>
        </div>
        <div class="analysis-step" data-step="1">
          <div class="step-indicator"><i class="fas fa-check"></i></div>
          <div class="step-text">SCANNING PATTERN DATABASE</div>
        </div>
        <div class="analysis-step" data-step="2">
          <div class="step-indicator"><i class="fas fa-check"></i></div>
          <div class="step-text">NEURAL NETWORK PROCESSING</div>
        </div>
        <div class="analysis-step" data-step="3">
          <div class="step-indicator"><i class="fas fa-check"></i></div>
          <div class="step-text">QUANTUM PROBABILITY CALC</div>
        </div>
        <div class="analysis-step" data-step="4">
          <div class="step-indicator"><i class="fas fa-check"></i></div>
          <div class="step-text">CROSS-REFERENCING SIGNALS</div>
        </div>
        <div class="analysis-step" data-step="5">
          <div class="step-indicator"><i class="fas fa-check"></i></div>
          <div class="step-text">FINALIZING PREDICTION</div>
        </div>
      </div>

      <div class="neural-activity">
        <div class="neural-label">NEURAL ACTIVITY</div>
        <div class="neural-bars" id="neural-bars"></div>
      </div>
    </div>

    <!-- Result Section -->
    <div class="result-section" id="result-section">
      <div class="card result-main-card" id="result-card">
        <div class="card-corner tl"></div>
        <div class="card-corner tr"></div>
        <div class="card-corner bl"></div>
        <div class="card-corner br"></div>

        <div class="result-period-display" id="result-period-display">PERIOD: ---</div>
        <div class="result-label">FINAL PREDICTION</div>
        <div class="result-value" id="result-value">---</div>
        <div class="result-emoji" id="result-emoji"></div>

        <div class="confidence-section">
          <div class="confidence-header">
            <div class="confidence-label">CONFIDENCE LEVEL</div>
            <div class="confidence-value" id="confidence-value">0%</div>
          </div>
          <div class="confidence-bar">
            <div class="confidence-fill" id="confidence-fill" style="width:0%"></div>
          </div>
        </div>

        <div class="analysis-data-grid">
          <div class="analysis-data-item">
            <div class="analysis-data-value color-gold" id="ad-patterns">0</div>
            <div class="analysis-data-label">Patterns Found</div>
          </div>
          <div class="analysis-data-item">
            <div class="analysis-data-value color-purple" id="ad-signals">0</div>
            <div class="analysis-data-label">Signals Matched</div>
          </div>
          <div class="analysis-data-item">
            <div class="analysis-data-value color-emerald" id="ad-nodes">0</div>
            <div class="analysis-data-label">Neural Nodes</div>
          </div>
          <div class="analysis-data-item">
            <div class="analysis-data-value color-blue" id="ad-latency">0ms</div>
            <div class="analysis-data-label">Latency</div>
          </div>
        </div>

        <div class="streak-bar">
          <div class="streak-label">HISTORY</div>
          <div class="streak-dots" id="streak-dots">
            <!-- Filled by JS -->
          </div>
        </div>
      </div>

      <!-- Strategy Card -->
      <div class="strategy-card animate-fadeInUp delay-200">
        <div class="strategy-title">
          <i class="fas fa-chess-knight"></i>
          3-LEVEL RECOVERY STRATEGY
        </div>
        <table class="strategy-table">
          <tr>
            <td><span class="level-indicator"><span class="level-dot" style="background:var(--emerald)"></span> LEVEL 1</span></td>
            <td>Base Bet Amount</td>
            <td class="strat-safe">SAFE ENTRY</td>
          </tr>
          <tr>
            <td><span class="level-indicator"><span class="level-dot" style="background:var(--gold)"></span> LEVEL 2</span></td>
            <td>3X Base Amount</td>
            <td class="strat-recover">RECOVERY</td>
          </tr>
          <tr>
            <td><span class="level-indicator"><span class="level-dot" style="background:var(--rose)"></span> LEVEL 3</span></td>
            <td>9X Base Amount</td>
            <td class="strat-final">FINAL PUSH</td>
          </tr>
        </table>
      </div>
    </div>
  </div>

  <!-- ==========================================
       HISTORY VIEW
       ========================================== -->
  <div id="history-view">
    <div class="section-header animate-fadeInUp">
      <div class="section-title">PREDICTION HISTORY</div>
      <div class="section-badge" id="history-count">0 RECORDS</div>
    </div>

    <!-- History Stats -->
    <div class="card chart-container animate-fadeInUp delay-100">
      <div class="flex justify-between items-center" style="margin-bottom:16px;">
        <div>
          <div class="font-display text-xs fw-700 color-muted tracking-wider">RESULT DISTRIBUTION</div>
        </div>
        <div class="chart-legend">
          <div class="chart-legend-item"><div class="chart-legend-dot" style="background:var(--emerald)"></div> BIG</div>
          <div class="chart-legend-item"><div class="chart-legend-dot" style="background:var(--rose)"></div> SMALL</div>
        </div>
      </div>
      <div class="mini-chart" id="mini-chart">
        <!-- Filled by JS -->
      </div>

      <div class="prediction-mini-stats">
        <div class="prediction-mini-stat">
          <div class="prediction-mini-stat-icon" style="background:rgba(5,150,105,0.1);color:var(--emerald)"><i class="fas fa-arrow-up"></i></div>
          <div class="prediction-mini-stat-info">
            <div class="val color-emerald" id="total-big">0</div>
            <div class="lbl">BIG PREDICTIONS</div>
          </div>
        </div>
        <div class="prediction-mini-stat">
          <div class="prediction-mini-stat-icon" style="background:rgba(225,29,72,0.1);color:var(--rose)"><i class="fas fa-arrow-down"></i></div>
          <div class="prediction-mini-stat-info">
            <div class="val color-rose" id="total-small">0</div>
            <div class="lbl">SMALL PREDICTIONS</div>
          </div>
        </div>
      </div>
    </div>

    <div class="card animate-fadeInUp delay-200" style="padding:0;">
      <div style="padding:20px 24px 8px;">
        <div class="font-display text-xs fw-700 color-muted tracking-wider">RECENT PREDICTIONS</div>
      </div>
      <div class="history-list" id="history-list" style="padding: 0 16px 16px;">
        <div class="history-empty" id="history-empty">
          <i class="fas fa-inbox"></i>
          <p>No predictions yet</p>
          <span>Start predicting to see your history</span>
        </div>
      </div>
    </div>
  </div>

  <!-- ==========================================
       SETTINGS VIEW
       ========================================== -->
  <div id="settings-view">
    <div class="section-header animate-fadeInUp">
      <div class="section-title">SETTINGS</div>
    </div>

    <div class="card settings-group animate-fadeInUp delay-100">
      <div class="settings-group-title">DISPLAY</div>

      <div class="setting-item">
        <div class="setting-left">
          <div class="setting-icon" style="background:rgba(124,58,237,0.1);color:var(--purple)"><i class="fas fa-wand-magic-sparkles"></i></div>
          <div class="setting-info">
            <h4>Particle Effects</h4>
            <p>Animated background particles</p>
          </div>
        </div>
        <label class="toggle-switch">
          <input type="checkbox" checked id="toggle-particles" onchange="toggleSetting('particles')">
          <span class="toggle-slider"></span>
        </label>
      </div>

      <div class="setting-item">
        <div class="setting-left">
          <div class="setting-icon" style="background:rgba(212,160,18,0.1);color:var(--gold)"><i class="fas fa-volume-high"></i></div>
          <div class="setting-info">
            <h4>Sound Effects</h4>
            <p>Enable audio feedback</p>
          </div>
        </div>
        <label class="toggle-switch">
          <input type="checkbox" checked id="toggle-sound" onchange="toggleSetting('sound')">
          <span class="toggle-slider"></span>
        </label>
      </div>

      <div class="setting-item">
        <div class="setting-left">
          <div class="setting-icon" style="background:rgba(5,150,105,0.1);color:var(--emerald)"><i class="fas fa-mobile-screen"></i></div>
          <div class="setting-info">
            <h4>Haptic Feedback</h4>
            <p>Vibration on interactions</p>
          </div>
        </div>
        <label class="toggle-switch">
          <input type="checkbox" checked id="toggle-haptic" onchange="toggleSetting('haptic')">
          <span class="toggle-slider"></span>
        </label>
      </div>

      <div class="setting-item">
        <div class="setting-left">
          <div class="setting-icon" style="background:rgba(225,29,72,0.1);color:var(--rose)"><i class="fas fa-burst"></i></div>
          <div class="setting-info">
            <h4>Confetti Effects</h4>
            <p>Celebration on prediction</p>
          </div>
        </div>
        <label class="toggle-switch">
          <input type="checkbox" checked id="toggle-confetti" onchange="toggleSetting('confetti')">
          <span class="toggle-slider"></span>
        </label>
      </div>
    </div>

    <div class="card settings-group animate-fadeInUp delay-200">
      <div class="settings-group-title">ANALYSIS</div>

      <div class="setting-item">
        <div class="setting-left">
          <div class="setting-icon" style="background:rgba(37,99,235,0.1);color:var(--blue)"><i class="fas fa-gauge-high"></i></div>
          <div class="setting-info">
            <h4>Fast Analysis Mode</h4>
            <p>Skip detailed animation steps</p>
          </div>
        </div>
        <label class="toggle-switch">
          <input type="checkbox" id="toggle-fast" onchange="toggleSetting('fast')">
          <span class="toggle-slider"></span>
        </label>
      </div>

      <div class="setting-item">
        <div class="setting-left">
          <div class="setting-icon" style="background:rgba(217,119,6,0.1);color:var(--amber)"><i class="fas fa-clock-rotate-left"></i></div>
          <div class="setting-info">
            <h4>Auto-save History</h4>
            <p>Save predictions automatically</p>
          </div>
        </div>
        <label class="toggle-switch">
          <input type="checkbox" checked id="toggle-autosave" onchange="toggleSetting('autosave')">
          <span class="toggle-slider"></span>
        </label>
      </div>
    </div>

    <div class="card session-info-card animate-fadeInUp delay-300">
      <div class="settings-group-title">SESSION INFO</div>
      <div class="session-grid">
        <div class="session-item">
          <div class="session-item-label">SESSION ID</div>
          <div class="session-item-value" id="session-id">---</div>
        </div>
        <div class="session-item">
          <div class="session-item-label">STARTED</div>
          <div class="session-item-value" id="session-start">---</div>
        </div>
        <div class="session-item">
          <div class="session-item-label">DURATION</div>
          <div class="session-item-value" id="session-duration">0m 0s</div>
        </div>
        <div class="session-item">
          <div class="session-item-label">VERSION</div>
          <div class="session-item-value">v11.0.0</div>
        </div>
      </div>
    </div>

    <div class="card animate-fadeInUp delay-400" style="padding: 20px 24px;">
      <div class="settings-group-title">ABOUT</div>
      <table class="data-table">
        <tr><td>Engine Version</td><td>v11.0 God Level</td></tr>
        <tr><td>Build</td><td>2025.06.28</td></tr>
        <tr><td>Neural Cores</td><td>8 Active</td></tr>
        <tr><td>Encryption</td><td>AES-256-GCM</td></tr>
        <tr><td>Protocol</td><td>WSS/TLS 1.3</td></tr>
        <tr><td>Uptime</td><td>99.97%</td></tr>
        <tr><td>API Status</td><td style="color:var(--emerald)">â— Healthy</td></tr>
      </table>
    </div>
  </div>

  <!-- ==========================================
       PROFILE VIEW
       ========================================== -->
  <div id="profile-view">

    <div class="card profile-header animate-fadeInUp">
      <div class="card-corner tl"></div>
      <div class="card-corner tr"></div>
      <div class="card-corner bl"></div>
      <div class="card-corner br"></div>

      <div class="profile-avatar">N</div>
      <div class="profile-name">NEURAL USER</div>
      <div class="profile-role">PRO MEMBER &bull; ULTRA ACCESS</div>

      <div class="profile-stats-grid">
        <div class="profile-stat">
          <div class="profile-stat-num color-gold" id="profile-total">0</div>
          <div class="profile-stat-label">Total</div>
        </div>
        <div class="profile-stat">
          <div class="profile-stat-num color-emerald" id="profile-wins">0</div>
          <div class="profile-stat-label">Wins</div>
        </div>
        <div class="profile-stat">
          <div class="profile-stat-num color-purple" id="profile-rate">0%</div>
          <div class="profile-stat-label">Win Rate</div>
        </div>
      </div>
    </div>

    <!-- Accuracy Ring -->
    <div class="card animate-fadeInUp delay-100" style="padding:28px 24px;">
      <div class="font-display text-xs fw-700 color-muted tracking-wider text-center" style="margin-bottom:16px;">ENGINE ACCURACY</div>
      <div class="accuracy-ring-container">
        <svg class="accuracy-ring-svg" viewBox="0 0 100 100">
          <circle class="accuracy-ring-bg" cx="50" cy="50" r="40" />
          <circle class="accuracy-ring-fill" id="accuracy-ring" cx="50" cy="50" r="40" />
        </svg>
        <div class="accuracy-ring-text">
          <div class="accuracy-ring-value" id="accuracy-ring-value">97.8%</div>
          <div class="accuracy-ring-label">ACCURACY</div>
        </div>
      </div>
    </div>

    <!-- Achievements -->
    <div class="animate-fadeInUp delay-200">
      <div class="section-header" style="margin-bottom:10px;">
        <div class="section-title">ACHIEVEMENTS</div>
        <div class="section-badge" id="achievements-count">0/6</div>
      </div>

      <div class="achievements-grid" id="achievements-grid">
        <div class="achievement-item locked" data-id="first" id="ach-first">
          <div class="achievement-icon">ðŸŽ¯</div>
          <div class="achievement-name">First Blood</div>
        </div>
        <div class="achievement-item locked" data-id="five" id="ach-five">
          <div class="achievement-icon">âš¡</div>
          <div class="achievement-name">5 Streak</div>
        </div>
        <div class="achievement-item locked" data-id="ten" id="ach-ten">
          <div class="achievement-icon">ðŸ”¥</div>
          <div class="achievement-name">10 Predictions</div>
        </div>
        <div class="achievement-item locked" data-id="speed" id="ach-speed">
          <div class="achievement-icon">ðŸ’¨</div>
          <div class="achievement-name">Speed Run</div>
        </div>
        <div class="achievement-item locked" data-id="dual" id="ach-dual">
          <div class="achievement-icon">ðŸŽ®</div>
          <div class="achievement-name">Dual Engine</div>
        </div>
        <div class="achievement-item locked" data-id="master" id="ach-master">
          <div class="achievement-icon">ðŸ‘‘</div>
          <div class="achievement-name">Predictor God</div>
        </div>
      </div>
    </div>

    <!-- Session Card -->
    <div class="card animate-fadeInUp delay-300" style="padding:20px 24px;">
      <div class="settings-group-title">MEMBERSHIP</div>
      <table class="data-table">
        <tr><td>Plan</td><td style="color:var(--gold)">â­ ULTRA PRO</td></tr>
        <tr><td>Status</td><td style="color:var(--emerald)">â— Active</td></tr>
        <tr><td>Engines</td><td>All Access</td></tr>
        <tr><td>Priority</td><td>Maximum</td></tr>
        <tr><td>Support</td><td>24/7 Premium</td></tr>
      </table>
    </div>
  </div>

</div>

<!-- ============================================
     BOTTOM NAVIGATION
     ============================================ -->
<div class="bottom-nav" id="bottom-nav" style="display:none;">
  <div class="bottom-nav-inner">
    <div class="nav-item active" data-view="home" onclick="switchView('home')">
      <i class="fas fa-house"></i>
      <span>Home</span>
    </div>
    <div class="nav-item" data-view="history" onclick="switchView('history')">
      <i class="fas fa-clock-rotate-left"></i>
      <span>History</span>
      <div class="nav-badge" id="nav-history-badge" style="display:none">0</div>
    </div>
    <div class="nav-item" data-view="settings" onclick="switchView('settings')">
      <i class="fas fa-gear"></i>
      <span>Settings</span>
    </div>
    <div class="nav-item" data-view="profile" onclick="switchView('profile')">
      <i class="fas fa-user"></i>
      <span>Profile</span>
    </div>
  </div>
</div>

<!-- ============================================
     JAVASCRIPT ENGINE
     ============================================ -->
<script>
/* ================================================
   GLOBAL STATE
   ================================================ */
const APP = {
  accessKey: 'KEY1D2026',
  currentView: 'home',
  currentEngine: null,
  engineLogos: {
    'JALWA': 'https://i.ibb.co/Kc0Dv4Nz/IMG-20250628-082128.jpg',
    'OK WIN': 'https://i.ibb.co/4w6TF0w2/IMG-20250628-082045.jpg'
  },
  engineSubtitles: {
    'JALWA': 'PREMIUM NEURAL ENGINE',
    'OK WIN': 'QUANTUM ANALYSIS CORE'
  },
  history: [],
  totalPredictions: 0,
  streak: 0,
  bigCount: 0,
  smallCount: 0,
  sessionStart: Date.now(),
  sessionId: '',
  isAnalyzing: false,
  settings: {
    particles: true,
    sound: true,
    haptic: true,
    confetti: true,
    fast: false,
    autosave: true
  },
  achievements: {
    first: false,
    five: false,
    ten: false,
    speed: false,
    dual: false,
    master: false
  },
  enginesUsed: new Set(),
  tips: [
    'Always follow the 3-level strategy for maximum recovery. Never skip levels to maintain your edge.',
    'Start with small base bets. Consistency beats aggression in the long run.',
    'Keep track of your win/loss ratio. Data-driven decisions always win.',
    'Never chase losses beyond Level 3. Reset and start fresh for the next period.',
    'The neural engine works best with consecutive periods. Avoid random jumps.',
    'Use the history feature to identify patterns in your prediction results.',
    'Timing matters â€” predictions are most accurate during peak server hours.',
    'Trust the algorithm. Emotional decisions lead to suboptimal outcomes.'
  ]
};

/* ================================================
   UTILITY FUNCTIONS
   ================================================ */
function generateSessionId() {
  const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
  let id = '';
  for (let i = 0; i < 8; i++) id += chars[Math.floor(Math.random() * chars.length)];
  return id;
}

function formatTime(date) {
  return date.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: true });
}

function formatTimeShort(date) {
  return date.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit', hour12: true });
}

function formatDate(date) {
  return date.toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric' });
}

function getElapsedTime() {
  const diff = Date.now() - APP.sessionStart;
  const mins = Math.floor(diff / 60000);
  const secs = Math.floor((diff % 60000) / 1000);
  if (mins >= 60) {
    const hrs = Math.floor(mins / 60);
    const rmins = mins % 60;
    return `${hrs}h ${rmins}m`;
  }
  return `${mins}m ${secs}s`;
}

function hapticFeedback(pattern) {
  if (!APP.settings.haptic) return;
  try { navigator.vibrate?.(pattern || 10); } catch(e) {}
}

function randomBetween(min, max) {
  return Math.floor(Math.random() * (max - min + 1)) + min;
}

/* ================================================
   SOUND SYSTEM (Web Audio API)
   ================================================ */
const SoundEngine = {
  ctx: null,
  init() {
    try {
      this.ctx = new (window.AudioContext || window.webkitAudioContext)();
    } catch(e) {}
  },
  play(type) {
    if (!APP.settings.sound || !this.ctx) return;
    try {
      const osc = this.ctx.createOscillator();
      const gain = this.ctx.createGain();
      osc.connect(gain);
      gain.connect(this.ctx.destination);
      gain.gain.value = 0.08;

      switch(type) {
        case 'click':
          osc.frequency.value = 800;
          osc.type = 'sine';
          gain.gain.exponentialRampToValueAtTime(0.001, this.ctx.currentTime + 0.1);
          osc.start(); osc.stop(this.ctx.currentTime + 0.1);
          break;
        case 'success':
          osc.frequency.value = 523;
          osc.type = 'sine';
          gain.gain.exponentialRampToValueAtTime(0.001, this.ctx.currentTime + 0.4);
          osc.start();
          setTimeout(() => {
            try {
              const o2 = this.ctx.createOscillator();
              const g2 = this.ctx.createGain();
              o2.connect(g2); g2.connect(this.ctx.destination);
              g2.gain.value = 0.08;
              o2.frequency.value = 659;
              o2.type = 'sine';
              g2.gain.exponentialRampToValueAtTime(0.001, this.ctx.currentTime + 0.3);
              o2.start(); o2.stop(this.ctx.currentTime + 0.3);
            } catch(e) {}
          }, 150);
          osc.stop(this.ctx.currentTime + 0.4);
          break;
        case 'error':
          osc.frequency.value = 200;
          osc.type = 'sawtooth';
          gain.gain.value = 0.05;
          gain.gain.exponentialRampToValueAtTime(0.001, this.ctx.currentTime + 0.3);
          osc.start(); osc.stop(this.ctx.currentTime + 0.3);
          break;
        case 'step':
          osc.frequency.value = 400 + Math.random() * 400;
          osc.type = 'sine';
          gain.gain.value = 0.03;
          gain.gain.exponentialRampToValueAtTime(0.001, this.ctx.currentTime + 0.08);
          osc.start(); osc.stop(this.ctx.currentTime + 0.08);
          break;
        case 'complete':
          osc.frequency.value = 440;
          osc.type = 'sine';
          gain.gain.exponentialRampToValueAtTime(0.001, this.ctx.currentTime + 0.6);
          osc.start();
          setTimeout(() => {
            try {
              const o2 = this.ctx.createOscillator();
              const g2 = this.ctx.createGain();
              o2.connect(g2); g2.connect(this.ctx.destination);
              g2.gain.value = 0.08;
              o2.frequency.value = 554;
              o2.type = 'sine';
              g2.gain.exponentialRampToValueAtTime(0.001, this.ctx.currentTime + 0.4);
              o2.start(); o2.stop(this.ctx.currentTime + 0.4);
            } catch(e) {}
          }, 150);
          setTimeout(() => {
            try {
              const o3 = this.ctx.createOscillator();
              const g3 = this.ctx.createGain();
              o3.connect(g3); g3.connect(this.ctx.destination);
              g3.gain.value = 0.08;
              o3.frequency.value = 659;
              o3.type = 'sine';
              g3.gain.exponentialRampToValueAtTime(0.001, this.ctx.currentTime + 0.5);
              o3.start(); o3.stop(this.ctx.currentTime + 0.5);
            } catch(e) {}
          }, 300);
          osc.stop(this.ctx.currentTime + 0.6);
          break;
      }
    } catch(e) {}
  }
};

/* ================================================
   PARTICLE SYSTEM
   ================================================ */
const ParticleSystem = {
  canvas: null,
  ctx: null,
  particles: [],
  animId: null,
  maxParticles: 50,

  init() {
    this.canvas = document.getElementById('particle-canvas');
    this.ctx = this.canvas.getContext('2d');
    this.resize();
    window.addEventListener('resize', () => this.resize());
    this.createParticles();
    this.animate();
  },

  resize() {
    this.canvas.width = window.innerWidth;
    this.canvas.height = window.innerHeight;
  },

  createParticles() {
    this.particles = [];
    for (let i = 0; i < this.maxParticles; i++) {
      this.particles.push({
        x: Math.random() * this.canvas.width,
        y: Math.random() * this.canvas.height,
        vx: (Math.random() - 0.5) * 0.3,
        vy: (Math.random() - 0.5) * 0.3,
        size: Math.random() * 2 + 0.5,
        opacity: Math.random() * 0.3 + 0.05,
        hue: Math.random() > 0.5 ? 43 : 270
      });
    }
  },

  animate() {
    if (!APP.settings.particles) {
      this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
      this.animId = requestAnimationFrame(() => this.animate());
      return;
    }

    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);

    for (let i = 0; i < this.particles.length; i++) {
      const p = this.particles[i];
      p.x += p.vx;
      p.y += p.vy;

      if (p.x < 0) p.x = this.canvas.width;
      if (p.x > this.canvas.width) p.x = 0;
      if (p.y < 0) p.y = this.canvas.height;
      if (p.y > this.canvas.height) p.y = 0;

      this.ctx.beginPath();
      this.ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
      this.ctx.fillStyle = `hsla(${p.hue}, 70%, 60%, ${p.opacity})`;
      this.ctx.fill();

      // Draw connecting lines
      for (let j = i + 1; j < this.particles.length; j++) {
        const p2 = this.particles[j];
        const dx = p.x - p2.x;
        const dy = p.y - p2.y;
        const dist = Math.sqrt(dx * dx + dy * dy);

        if (dist < 120) {
          this.ctx.beginPath();
          this.ctx.moveTo(p.x, p.y);
          this.ctx.lineTo(p2.x, p2.y);
          this.ctx.strokeStyle = `hsla(43, 60%, 50%, ${0.04 * (1 - dist / 120)})`;
          this.ctx.lineWidth = 0.5;
          this.ctx.stroke();
        }
      }
    }

    this.animId = requestAnimationFrame(() => this.animate());
  }
};

/* ================================================
   CONFETTI SYSTEM
   ================================================ */
const ConfettiSystem = {
  canvas: null,
  ctx: null,
  pieces: [],
  animId: null,
  active: false,

  init() {
    this.canvas = document.getElementById('confetti-canvas');
    this.ctx = this.canvas.getContext('2d');
    this.resize();
    window.addEventListener('resize', () => this.resize());
  },

  resize() {
    this.canvas.width = window.innerWidth;
    this.canvas.height = window.innerHeight;
  },

  burst() {
    if (!APP.settings.confetti) return;
    this.pieces = [];
    this.active = true;

    const colors = ['#d4a012', '#7c3aed', '#e11d48', '#059669', '#2563eb', '#f0c040', '#fb7185', '#34d399'];

    for (let i = 0; i < 120; i++) {
      this.pieces.push({
        x: this.canvas.width / 2 + (Math.random() - 0.5) * 200,
        y: this.canvas.height / 2,
        vx: (Math.random() - 0.5) * 16,
        vy: Math.random() * -18 - 4,
        w: Math.random() * 10 + 4,
        h: Math.random() * 6 + 3,
        color: colors[Math.floor(Math.random() * colors.length)],
        rotation: Math.random() * 360,
        rotSpeed: (Math.random() - 0.5) * 12,
        gravity: 0.25 + Math.random() * 0.15,
        opacity: 1,
        decay: 0.008 + Math.random() * 0.008
      });
    }

    this.animate();
  },

  animate() {
    if (!this.active) return;

    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
    let alive = 0;

    for (const p of this.pieces) {
      if (p.opacity <= 0) continue;
      alive++;

      p.x += p.vx;
      p.vy += p.gravity;
      p.y += p.vy;
      p.vx *= 0.98;
      p.rotation += p.rotSpeed;
      p.opacity -= p.decay;

      this.ctx.save();
      this.ctx.translate(p.x, p.y);
      this.ctx.rotate(p.rotation * Math.PI / 180);
      this.ctx.globalAlpha = Math.max(0, p.opacity);
      this.ctx.fillStyle = p.color;
      this.ctx.fillRect(-p.w / 2, -p.h / 2, p.w, p.h);
      this.ctx.restore();
    }

    if (alive > 0) {
      this.animId = requestAnimationFrame(() => this.animate());
    } else {
      this.active = false;
      this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
    }
  }
};

/* ================================================
   TOAST NOTIFICATION SYSTEM
   ================================================ */
function showToast(type, title, message) {
  const container = document.getElementById('toast-container');
  const toast = document.createElement('div');
  toast.className = `toast toast-${type}`;

  const icons = {
    success: 'fa-check-circle',
    error: 'fa-times-circle',
    warning: 'fa-exclamation-triangle',
    info: 'fa-info-circle'
  };

  toast.innerHTML = `
    <div class="toast-icon"><i class="fas ${icons[type] || icons.info}"></i></div>
    <div class="toast-content">
      <div class="toast-title">${title}</div>
      <div class="toast-message">${message}</div>
    </div>
  `;

  container.appendChild(toast);
  hapticFeedback(15);

  setTimeout(() => {
    toast.classList.add('toast-exit');
    setTimeout(() => toast.remove(), 300);
  }, 3500);
}

/* ================================================
   SPLASH SCREEN
   ================================================ */
function initSplash() {
  const fill = document.getElementById('splash-progress');
  const status = document.getElementById('splash-status');
  let progress = 0;

  const stages = [
    { at: 5, text: 'LOADING CORE MODULES' },
    { at: 15, text: 'INITIALIZING NEURAL CORES' },
    { at: 25, text: 'CONNECTING TO SERVERS' },
    { at: 35, text: 'LOADING ENCRYPTION LAYER' },
    { at: 45, text: 'SYNCING PATTERN DATABASE' },
    { at: 55, text: 'CALIBRATING AI ENGINE' },
    { at: 65, text: 'WARMING UP PREDICTORS' },
    { at: 75, text: 'VERIFYING INTEGRITY' },
    { at: 85, text: 'LOADING UI COMPONENTS' },
    { at: 95, text: 'FINALIZING STARTUP' },
  ];

  const interval = setInterval(() => {
    progress += Math.random() * 4 + 1;
    if (progress > 100) progress = 100;
    fill.style.width = progress + '%';

    for (const stage of stages) {
      if (progress >= stage.at) {
        status.textContent = stage.text;
      }
    }

    if (progress >= 100) {
      clearInterval(interval);
      status.textContent = 'SYSTEM READY';
      setTimeout(() => {
        const splash = document.getElementById('splash-screen');
        splash.classList.add('hide');
        setTimeout(() => {
          splash.style.display = 'none';
          showAuthScreen();
        }, 800);
      }, 400);
    }
  }, 60);
}

/* ================================================
   AUTH SYSTEM
   ================================================ */
function showAuthScreen() {
  const auth = document.getElementById('auth-screen');
  auth.classList.add('active');
  setTimeout(() => {
    document.getElementById('key-input').focus();
  }, 500);
}

function authenticate() {
  const input = document.getElementById('key-input');
  const value = input.value.trim();
  const error = document.getElementById('auth-error');

  if (!value) {
    input.classList.add('error');
    setTimeout(() => input.classList.remove('error'), 500);
    error.classList.add('show');
    error.querySelector('span').textContent = 'Please enter an access key';
    SoundEngine.play('error');
    hapticFeedback([50, 30, 50]);
    return;
  }

  if (value !== APP.accessKey) {
    input.classList.add('error');
    setTimeout(() => input.classList.remove('error'), 500);
    error.classList.add('show');
    error.querySelector('span').textContent = 'Invalid access key. Try again.';
    SoundEngine.play('error');
    hapticFeedback([50, 30, 50]);
    input.value = '';
    input.focus();
    return;
  }

  // Success
  error.classList.remove('show');
  SoundEngine.play('success');
  hapticFeedback([30, 20, 30, 20, 50]);

  const auth = document.getElementById('auth-screen');
  auth.classList.add('hide-auth');

  setTimeout(() => {
    auth.style.display = 'none';
    initMainApp();
  }, 1000);
}

function togglePassword() {
  const input = document.getElementById('key-input');
  const icon = document.getElementById('toggle-pass');
  if (input.type === 'password') {
    input.type = 'text';
    icon.classList.remove('fa-eye');
    icon.classList.add('fa-eye-slash');
  } else {
    input.type = 'password';
    icon.classList.remove('fa-eye-slash');
    icon.classList.add('fa-eye');
  }
}

// Enter key on auth
document.getElementById('key-input').addEventListener('keydown', function(e) {
  if (e.key === 'Enter') authenticate();
});

/* ================================================
   MAIN APP INIT
   ================================================ */
function initMainApp() {
  APP.sessionId = generateSessionId();
  APP.sessionStart = Date.now();

  const mainApp = document.getElementById('main-app');
  mainApp.classList.add('active');

  const bottomNav = document.getElementById('bottom-nav');
  bottomNav.style.display = 'block';

  // Set session info
  document.getElementById('session-id').textContent = APP.sessionId;
  document.getElementById('session-start').textContent = formatTimeShort(new Date());

  // Set random tip
  document.getElementById('tip-text').textContent =
    APP.tips[Math.floor(Math.random() * APP.tips.length)];

  // Init neural bars
  initNeuralBars();

  // Init mini chart
  initMiniChart();

  // Start clocks
  updateClocks();
  setInterval(updateClocks, 1000);

  // Start uptime counter
  setInterval(updateUptime, 5000);

  // Update accuracy ring
  setTimeout(updateAccuracyRing, 500);

  showToast('success', 'System Unlocked', 'Neural Predictor v11 is ready');
}

function initNeuralBars() {
  const container = document.getElementById('neural-bars');
  container.innerHTML = '';
  for (let i = 0; i < 32; i++) {
    const bar = document.createElement('div');
    bar.className = 'neural-bar';
    bar.style.height = '3px';
    container.appendChild(bar);
  }
}

function initMiniChart() {
  const chart = document.getElementById('mini-chart');
  chart.innerHTML = '';
  for (let i = 0; i < 12; i++) {
    const bar = document.createElement('div');
    bar.className = 'mini-chart-bar';
    const isBig = Math.random() > 0.5;
    const height = randomBetween(15, 55);
    bar.style.height = height + 'px';
    bar.style.background = isBig ? 'var(--emerald)' : 'var(--rose)';
    bar.style.opacity = '0.6';
    bar.innerHTML = `<div class="tooltip">${isBig ? 'BIG' : 'SMALL'} - ${height}%</div>`;
    chart.appendChild(bar);
  }
}

function updateClocks() {
  const now = new Date();
  const timeStr = formatTimeShort(now);
  const dateStr = formatDate(now);

  const wt = document.getElementById('welcome-time');
  const wd = document.getElementById('welcome-date');
  const pc = document.getElementById('predictor-clock');

  if (wt) wt.textContent = timeStr;
  if (wd) wd.textContent = dateStr;
  if (pc) pc.textContent = formatTime(now);

  // Session duration
  const sd = document.getElementById('session-duration');
  if (sd) sd.textContent = getElapsedTime();
}

function updateUptime() {
  const diff = Date.now() - APP.sessionStart;
  const mins = Math.floor(diff / 60000);
  const el = document.getElementById('qs-uptime');
  if (el) {
    if (mins >= 60) {
      el.textContent = Math.floor(mins / 60) + 'h';
    } else {
      el.textContent = mins + 'm';
    }
  }
}

function updateAccuracyRing() {
  const ring = document.getElementById('accuracy-ring');
  if (!ring) return;
  const circumference = 2 * Math.PI * 40; // 251.33
  const accuracy = 97.8;
  const offset = circumference - (circumference * accuracy / 100);
  ring.style.strokeDashoffset = offset;
}

/* ================================================
   VIEW SWITCHING
   ================================================ */
function switchView(view) {
  if (view === APP.currentView && view !== 'home') return;

  SoundEngine.play('click');
  hapticFeedback(8);

  // If we're in predictor, go back first
  const predictorView = document.getElementById('predictor-view');
  if (predictorView.classList.contains('active')) {
    predictorView.classList.remove('active');
  }

  // Hide all views
  const views = ['home-view', 'history-view', 'settings-view', 'profile-view'];
  views.forEach(v => {
    const el = document.getElementById(v);
    if (el) el.classList.remove('active');
    if (el) el.style.display = 'none';
  });

  // Show target view
  const target = document.getElementById(view + '-view');
  if (target) {
    target.style.display = 'flex';
    target.classList.add('active');
  }

  // Special: home view shows selector + header elements
  if (view === 'home') {
    const hv = document.getElementById('home-view');
    if (hv) { hv.style.display = 'block'; hv.classList.add('active'); }
  }

  // Update nav
  document.querySelectorAll('.nav-item').forEach(item => {
    item.classList.remove('active');
    if (item.dataset.view === view) item.classList.add('active');
  });

  // Update profile stats
  if (view === 'profile') updateProfileStats();

  // Update history
  if (view === 'history') updateHistoryView();

  APP.currentView = view;
  window.scrollTo({ top: 0, behavior: 'smooth' });
}

/* ================================================
   ENGINE / PREDICTOR
   ================================================ */
function openEngine(name) {
  SoundEngine.play('click');
  hapticFeedback(15);

  APP.currentEngine = name;
  APP.enginesUsed.add(name);

  // Check dual engine achievement
  if (APP.enginesUsed.size >= 2) unlockAchievement('dual');

  // Hide home view
  const homeView = document.getElementById('home-view');
  if (homeView) { homeView.style.display = 'none'; homeView.classList.remove('active'); }

  // Setup predictor
  const engineName = document.getElementById('engine-name');
  const engineSub = document.getElementById('engine-subtitle');
  const logoWrap = document.getElementById('engine-logo-wrap');

  engineName.textContent = name;
  engineSub.textContent = APP.engineSubtitles[name] || 'PREDICTION ENGINE';

  const logoUrl = APP.engineLogos[name];
  if (logoUrl) {
    logoWrap.innerHTML = `<img src="${logoUrl}" alt="${name}" onerror="this.parentElement.innerHTML='<div class=game-logo-placeholder style=width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:var(--bg-glass-light)><i class=fas fa-brain style=font-size:24px;color:var(--gold)></i></div>'">`;
  } else {
    logoWrap.innerHTML = `<div class="game-logo-placeholder" style="width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:var(--bg-glass-light)"><i class="fas fa-brain" style="font-size:24px;color:var(--gold)"></i></div>`;
  }

  // Reset state
  document.getElementById('period-input').value = '';
  document.getElementById('period-length-info').textContent = '0 digits entered';
  resetAnalysis();

  // Show predictor
  const predictorView = document.getElementById('predictor-view');
  predictorView.style.display = 'flex';
  predictorView.classList.add('active');

  // Update nav
  document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));
}

function goBack() {
  SoundEngine.play('click');
  hapticFeedback(8);

  // Hide predictor
  const predictorView = document.getElementById('predictor-view');
  predictorView.style.display = 'none';
  predictorView.classList.remove('active');

  // Show home
  switchView('home');
}

/* ================================================
   PERIOD INPUT HANDLER
   ================================================ */
document.getElementById('period-input').addEventListener('input', function() {
  const len = this.value.length;
  document.getElementById('period-length-info').textContent = len + ' digits entered';
});

document.getElementById('period-input').addEventListener('keydown', function(e) {
  if (e.key === 'Enter') runPrediction();
});

/* ================================================
   PREDICTION ENGINE
   ================================================ */
function runPrediction() {
  if (APP.isAnalyzing) return;

  const periodInput = document.getElementById('period-input');
  const period = periodInput.value.trim();

  if (!period) {
    periodInput.classList.add('error');
    setTimeout(() => periodInput.classList.remove('error'), 500);
    SoundEngine.play('error');
    hapticFeedback([50, 30, 50]);
    showToast('error', 'Missing Period', 'Please enter a period number');
    return;
  }

  if (!/^\d+$/.test(period)) {
    periodInput.classList.add('error');
    setTimeout(() => periodInput.classList.remove('error'), 500);
    SoundEngine.play('error');
    hapticFeedback([50, 30, 50]);
    showToast('error', 'Invalid Input', 'Period must contain only numbers');
    return;
  }

  APP.isAnalyzing = true;
  SoundEngine.play('click');
  hapticFeedback(20);

  const runBtn = document.getElementById('run-btn');
  const analysisSection = document.getElementById('analysis-section');
  const resultSection = document.getElementById('result-section');

  // Hide previous results and button
  runBtn.style.display = 'none';
  resultSection.style.display = 'none';
  resultSection.classList.remove('active');

  // Show analysis
  resetAnalysis();
  analysisSection.style.display = 'block';
  analysisSection.classList.add('active');

  // Start progress
  const totalDuration = APP.settings.fast ? 1500 : 4000;
  const stepCount = 6;
  const stepDuration = totalDuration / stepCount;
  let progress = 0;
  let currentStep = -1;

  const fill = document.getElementById('analysis-fill');
  const percentEl = document.getElementById('analysis-percent');
  const steps = document.querySelectorAll('.analysis-step');

  const progressInterval = setInterval(() => {
    const increment = APP.settings.fast ? randomBetween(4, 10) : randomBetween(1, 5);
    progress = Math.min(100, progress + increment);
    fill.style.width = progress + '%';
    percentEl.textContent = Math.floor(progress) + '%';

    // Update neural bars
    updateNeuralBars();

    // Step transitions
    const newStep = Math.min(stepCount - 1, Math.floor(progress / (100 / stepCount)));
    if (newStep !== currentStep) {
      currentStep = newStep;
      SoundEngine.play('step');

      steps.forEach((step, idx) => {
        step.classList.remove('active-step', 'done-step');
        if (idx < currentStep) step.classList.add('done-step');
        else if (idx === currentStep) step.classList.add('active-step');
      });
    }

    if (progress >= 100) {
      clearInterval(progressInterval);

      // Mark all done
      steps.forEach(step => {
        step.classList.remove('active-step');
        step.classList.add('done-step');
      });

      setTimeout(() => {
        showPredictionResult(period);
      }, 500);
    }
  }, totalDuration / 50);
}

function resetAnalysis() {
  const fill = document.getElementById('analysis-fill');
  const percentEl = document.getElementById('analysis-percent');
  const analysisSection = document.getElementById('analysis-section');
  const steps = document.querySelectorAll('.analysis-step');

  if (fill) fill.style.width = '0%';
  if (percentEl) percentEl.textContent = '0%';
  analysisSection.classList.remove('active');
  analysisSection.style.display = 'none';
  steps.forEach(step => {
    step.classList.remove('active-step', 'done-step');
  });

  // Reset neural bars
  document.querySelectorAll('.neural-bar').forEach(bar => {
    bar.style.height = '3px';
  });
}

function updateNeuralBars() {
  document.querySelectorAll('.neural-bar').forEach(bar => {
    const h = randomBetween(3, 28);
    bar.style.height = h + 'px';
    bar.style.opacity = 0.3 + (h / 28) * 0.7;
  });
}

/* ================================================
   SHOW PREDICTION RESULT
   ================================================ */
function showPredictionResult(period) {
  const analysisSection = document.getElementById('analysis-section');
  const resultSection = document.getElementById('result-section');
  const runBtn = document.getElementById('run-btn');
  const periodInput = document.getElementById('period-input');

  analysisSection.style.display = 'none';
  analysisSection.classList.remove('active');

  // Calculate prediction based on period
  const lastDigit = parseInt(period.slice(-1));
  const isBig = lastDigit >= 5;
  const prediction = isBig ? 'BIG' : 'SMALL';
  const emoji = isBig ? 'ðŸŸ¢' : 'ðŸ”´';
  const confidence = randomBetween(85, 99);
  const patterns = randomBetween(12, 48);
  const signals = randomBetween(6, 24);
  const nodes = randomBetween(128, 512);
  const latency = randomBetween(12, 89);

  // Set result values
  const resultCard = document.getElementById('result-card');
  resultCard.className = `card result-main-card ${isBig ? 'result-big' : 'result-small'}`;

  document.getElementById('result-period-display').textContent = `PERIOD: ${period}`;
  document.getElementById('result-value').textContent = prediction;
  document.getElementById('result-emoji').textContent = emoji;

  // Confidence
  document.getElementById('confidence-value').textContent = confidence + '%';
  const confFill = document.getElementById('confidence-fill');
  confFill.className = 'confidence-fill ' + (confidence >= 90 ? 'high' : confidence >= 70 ? 'medium' : 'low');
  setTimeout(() => { confFill.style.width = confidence + '%'; }, 100);

  // Analysis data
  document.getElementById('ad-patterns').textContent = patterns;
  document.getElementById('ad-signals').textContent = signals;
  document.getElementById('ad-nodes').textContent = nodes;
  document.getElementById('ad-latency').textContent = latency + 'ms';

  // Show result
  resultSection.style.display = 'block';
  resultSection.classList.add('active');

  // Update button
  runBtn.style.display = 'block';
  runBtn.innerHTML = '<span class="ripple-container"></span><i class="fas fa-redo"></i>&nbsp;&nbsp;NEW PREDICTION';
  runBtn.className = 'run-btn new-prediction';
  runBtn.onclick = function() {
    newPrediction();
  };

  // Effects
  SoundEngine.play('complete');
  hapticFeedback([30, 20, 60]);
  ConfettiSystem.burst();

  // Update stats
  APP.totalPredictions++;
  APP.streak++;
  if (isBig) APP.bigCount++;
  else APP.smallCount++;

  document.getElementById('stat-predictions').textContent = APP.totalPredictions;
  document.getElementById('stat-streak').textContent = APP.streak;
  document.getElementById('qs-success').textContent = APP.totalPredictions;

  // Add to history
  const historyEntry = {
    id: Date.now(),
    period: period,
    prediction: prediction,
    engine: APP.currentEngine,
    confidence: confidence,
    timestamp: new Date(),
    isBig: isBig
  };
  APP.history.unshift(historyEntry);

  // Update streak dots
  updateStreakDots();

  // Update history badge
  updateHistoryBadge();

  // Check achievements
  checkAchievements();

  APP.isAnalyzing = false;

  // Show toast
  showToast('success', 'Prediction Complete', `${prediction} with ${confidence}% confidence`);
}

function newPrediction() {
  SoundEngine.play('click');
  hapticFeedback(10);

  const periodInput = document.getElementById('period-input');
  const currentPeriod = periodInput.value.trim();

  // Auto-increment period by 1 using BigInt for large numbers
  if (currentPeriod && /^\d+$/.test(currentPeriod)) {
    try {
      const nextPeriod = (BigInt(currentPeriod) + 1n).toString();
      periodInput.value = nextPeriod;
      document.getElementById('period-length-info').textContent = nextPeriod.length + ' digits entered';
    } catch(e) {
      periodInput.value = '';
    }
  }

  // Reset result
  const resultSection = document.getElementById('result-section');
  resultSection.style.display = 'none';
  resultSection.classList.remove('active');

  // Reset confidence fill
  document.getElementById('confidence-fill').style.width = '0%';

  // Reset button
  const runBtn = document.getElementById('run-btn');
  runBtn.innerHTML = '<span class="ripple-container"></span><i class="fas fa-play"></i>&nbsp;&nbsp;START ANALYSIS';
  runBtn.className = 'run-btn';
  runBtn.onclick = runPrediction;

  // Auto-run if period is set
  if (periodInput.value.trim()) {
    setTimeout(() => {
      runPrediction();
    }, 300);
  }
}

/* ================================================
   STREAK DOTS
   ================================================ */
function updateStreakDots() {
  const container = document.getElementById('streak-dots');
  container.innerHTML = '';

  const recent = APP.history.slice(0, 10);
  recent.reverse().forEach(entry => {
    const dot = document.createElement('div');
    dot.className = `streak-dot ${entry.isBig ? 'big-dot' : 'small-dot'}`;
    dot.textContent = entry.isBig ? 'B' : 'S';
    container.appendChild(dot);
  });
}

/* ================================================
   HISTORY VIEW
   ================================================ */
function updateHistoryView() {
  const list = document.getElementById('history-list');
  const empty = document.getElementById('history-empty');
  const countBadge = document.getElementById('history-count');
  const totalBig = document.getElementById('total-big');
  const totalSmall = document.getElementById('total-small');

  countBadge.textContent = APP.history.length + ' RECORDS';
  totalBig.textContent = APP.bigCount;
  totalSmall.textContent = APP.smallCount;

  if (APP.history.length === 0) {
    list.innerHTML = '';
    list.appendChild(empty.cloneNode ? createEmptyHistory() : empty);
    return;
  }

  list.innerHTML = '';
  APP.history.forEach((entry, idx) => {
    const item = document.createElement('div');
    item.className = 'history-item';
    item.style.animationDelay = (idx * 0.05) + 's';

    item.innerHTML = `
      <div class="history-icon ${entry.isBig ? 'big-icon' : 'small-icon'}">
        ${entry.isBig ? 'B' : 'S'}
      </div>
      <div class="history-details">
        <div class="history-result-text" style="color:${entry.isBig ? 'var(--emerald)' : 'var(--rose)'}">
          ${entry.prediction}
        </div>
        <div class="history-period-text">Period: ${entry.period}</div>
      </div>
      <div class="history-meta">
        <div class="history-engine">${entry.engine}</div>
        <div class="history-time">${formatTimeShort(entry.timestamp)}</div>
      </div>
    `;

    list.appendChild(item);
  });

  // Update mini chart
  updateMiniChart();
}

function createEmptyHistory() {
  const div = document.createElement('div');
  div.className = 'history-empty';
  div.innerHTML = `
    <i class="fas fa-inbox"></i>
    <p>No predictions yet</p>
    <span>Start predicting to see your history</span>
  `;
  return div;
}

function updateHistoryBadge() {
  const badge = document.getElementById('nav-history-badge');
  if (APP.history.length > 0) {
    badge.style.display = 'flex';
    badge.textContent = APP.history.length;
  }
}

function updateMiniChart() {
  const chart = document.getElementById('mini-chart');
  chart.innerHTML = '';

  const recent = APP.history.slice(0, 12).reverse();
  if (recent.length === 0) {
    initMiniChart();
    return;
  }

  recent.forEach(entry => {
    const bar = document.createElement('div');
    bar.className = 'mini-chart-bar';
    const height = randomBetween(20, 55);
    bar.style.height = height + 'px';
    bar.style.background = entry.isBig ? 'var(--emerald)' : 'var(--rose)';
    bar.style.opacity = '0.7';
    bar.innerHTML = `<div class="tooltip">${entry.prediction} - P:${entry.period.slice(-4)}</div>`;
    chart.appendChild(bar);
  });
}

/* ================================================
   PROFILE STATS
   ================================================ */
function updateProfileStats() {
  document.getElementById('profile-total').textContent = APP.totalPredictions;
  document.getElementById('profile-wins').textContent = APP.totalPredictions;
  document.getElementById('profile-rate').textContent = APP.totalPredictions > 0 ? '97.8%' : '0%';

  // Update achievements count
  const unlocked = Object.values(APP.achievements).filter(v => v).length;
  document.getElementById('achievements-count').textContent = unlocked + '/6';
}

/* ================================================
   ACHIEVEMENTS SYSTEM
   ================================================ */
function checkAchievements() {
  // First prediction
  if (APP.totalPredictions >= 1 && !APP.achievements.first) {
    unlockAchievement('first');
  }

  // 5 streak
  if (APP.streak >= 5 && !APP.achievements.five) {
    unlockAchievement('five');
  }

  // 10 predictions
  if (APP.totalPredictions >= 10 && !APP.achievements.ten) {
    unlockAchievement('ten');
  }

  // Speed run (fast mode)
  if (APP.settings.fast && !APP.achievements.speed) {
    unlockAchievement('speed');
  }

  // Master (25 predictions)
  if (APP.totalPredictions >= 25 && !APP.achievements.master) {
    unlockAchievement('master');
  }
}

function unlockAchievement(id) {
  if (APP.achievements[id]) return;
  APP.achievements[id] = true;

  const el = document.getElementById('ach-' + id);
  if (el) {
    el.classList.remove('locked');
    el.classList.add('unlocked');
  }

  const names = {
    first: 'First Blood',
    five: '5 Streak',
    ten: '10 Predictions',
    speed: 'Speed Run',
    dual: 'Dual Engine',
    master: 'Predictor God'
  };

  showToast('warning', 'ðŸ† Achievement Unlocked!', names[id] || id);
  hapticFeedback([50, 30, 100]);
}

/* ================================================
   SETTINGS
   ================================================ */
function toggleSetting(key) {
  const toggle = document.getElementById('toggle-' + key);
  APP.settings[key] = toggle.checked;
  SoundEngine.play('click');
  hapticFeedback(8);

  if (key === 'fast' && toggle.checked) {
    checkAchievements(); // Check speed achievement
  }
}

/* ================================================
   LOGOUT
   ================================================ */
function showLogoutModal() {
  SoundEngine.play('click');
  hapticFeedback(10);
  document.getElementById('logout-modal').classList.add('active');
  document.body.classList.add('modal-open');
}

function closeModal() {
  SoundEngine.play('click');
  document.getElementById('logout-modal').classList.remove('active');
  document.body.classList.remove('modal-open');
}

function confirmLogout() {
  SoundEngine.play('error');
  hapticFeedback([100, 50, 100]);
  closeModal();
  showToast('warning', 'System Locked', 'Redirecting to login...');
  setTimeout(() => location.reload(), 1000);
}

/* ================================================
   RIPPLE EFFECT ON BUTTONS
   ================================================ */
document.addEventListener('click', function(e) {
  const btn = e.target.closest('.run-btn, .auth-btn');
  if (!btn) return;

  const container = btn.querySelector('.ripple-container') || btn;
  const ripple = document.createElement('span');
  ripple.className = 'ripple';

  const rect = btn.getBoundingClientRect();
  ripple.style.left = (e.clientX - rect.left) + 'px';
  ripple.style.top = (e.clientY - rect.top) + 'px';

  container.appendChild(ripple);
  setTimeout(() => ripple.remove(), 600);
});

/* ================================================
   SCROLL TO TOP BUTTON
   ================================================ */
window.addEventListener('scroll', function() {
  const btn = document.getElementById('scroll-top-btn');
  if (window.scrollY > 300) {
    btn.classList.add('show');
  } else {
    btn.classList.remove('show');
  }
});

/* ================================================
   BOOT SEQUENCE
   ================================================ */
document.addEventListener('DOMContentLoaded', function() {
  SoundEngine.init();
  ParticleSystem.init();
  ConfettiSystem.init();
  initSplash();
});

/* ================================================
   SERVICE WORKER REGISTRATION (PWA-like)
   ================================================ */
if ('serviceWorker' in navigator) {
  // Placeholder for future PWA support
}

/* ================================================
   PREVENT ZOOM ON DOUBLE TAP
   ================================================ */
let lastTouchEnd = 0;
document.addEventListener('touchend', function(e) {
  const now = Date.now();
  if (now - lastTouchEnd <= 300) {
    e.preventDefault();
  }
  lastTouchEnd = now;
}, false);

/* ================================================
   KEYBOARD SHORTCUTS
   ================================================ */
document.addEventListener('keydown', function(e) {
  // Escape to go back or close modal
  if (e.key === 'Escape') {
    const modal = document.getElementById('logout-modal');
    if (modal.classList.contains('active')) {
      closeModal();
      return;
    }

    const predictor = document.getElementById('predictor-view');
    if (predictor.classList.contains('active')) {
      goBack();
      return;
    }
  }

  // Number keys 1-4 for nav
  if (!e.ctrlKey && !e.altKey && !e.metaKey) {
    const activeEl = document.activeElement;
    if (activeEl && (activeEl.tagName === 'INPUT' || activeEl.tagName === 'TEXTAREA')) return;

    switch(e.key) {
      case '1': switchView('home'); break;
      case '2': switchView('history'); break;
      case '3': switchView('settings'); break;
      case '4': switchView('profile'); break;
    }
  }
});
</script>
</body>
</html>
